# Core Engine

GEasy-Kitãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãŠã‘ã‚‹Core Engineã®å®Œå…¨ã‚¬ã‚¤ãƒ‰

## ç›®æ¬¡

1. [Core Engine ã¨ã¯](#core-engine-ã¨ã¯)
2. [è²¬ä»»ç¯„å›²](#core-engine-ã®è²¬ä»»ç¯„å›²)
3. [æ©Ÿèƒ½åˆ¥è©³ç´°](#æ©Ÿèƒ½åˆ¥è©³ç´°)
4. [å‹å®šç¾©](#å‹å®šç¾©)
5. [é–¢æ•°è¨­è¨ˆ](#é–¢æ•°è¨­è¨ˆ)
6. [æ‹¡å¼µæ€§](#æ‹¡å¼µæ€§)

---

## Core Engine ã¨ã¯

Core Engineã¯ã€JRPGã«ãŠã‘ã‚‹**æ•°å€¤è¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«åˆ¤å®š**ã‚’æ‹…å½“ã™ã‚‹å±¤ã§ã™ã€‚

### å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ãŠã‘ã‚‹ä½ç½®ã¥ã‘

```text
UIï¼ˆè¦‹ãŸç›®ãƒ»å…¥åŠ›ï¼‰
  â†“
Headless UIï¼ˆé¸æŠãƒ»ç¢ºèªãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
  â†“
JRPG Servicesï¼ˆæ“ä½œãƒ•ãƒ­ãƒ¼ï¼‰
  â†“
Core Engineï¼ˆæ•°å€¤ãƒ»ãƒ«ãƒ¼ãƒ«ï¼‰â† â˜… ã“ã®å±¤
  â†“
Game Stateï¼ˆæ°¸ç¶šå¯èƒ½ãªçŠ¶æ…‹ï¼‰
```

### è¨­è¨ˆæ€æƒ³

Core Engineã¯ä»¥ä¸‹ã®åŸå‰‡ã«å¾“ã£ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ï¼š

- **ç´”ç²‹ãªè¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«**: UIã‚„æ“ä½œãƒ•ãƒ­ãƒ¼ã«ä¾å­˜ã—ãªã„
- **çŠ¶æ…‹ã‚’æŒãŸãªã„**: Game Stateã‹ã‚‰å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€è¨ˆç®—çµæœã‚’è¿”ã™
- **æ±ºå®šè«–çš„**: åŒã˜å…¥åŠ›ã«å¯¾ã—ã¦å¸¸ã«åŒã˜å‡ºåŠ›ã‚’è¿”ã™
- **ãƒ†ã‚¹ãƒˆå®¹æ˜“**: ãƒ¢ãƒƒã‚¯ã‚„å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ã«æ›¸ã‘ã‚‹
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã«å¯¾å¿œã§ãã‚‹æ‹¡å¼µæ€§

---

## Core Engine ã®è²¬ä»»ç¯„å›²

### âœ… Core Engine ãŒæ‰±ã†ã‚‚ã®

- **æ•°å€¤è¨ˆç®—**: ãƒ€ãƒ¡ãƒ¼ã‚¸ã€å›å¾©é‡ã€æˆé•·å€¤ãªã©
- **ç¢ºç‡åˆ¤å®š**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã€çŠ¶æ…‹ç•°å¸¸ä»˜ä¸ã€ãƒ‰ãƒ­ãƒƒãƒ—ãªã©
- **æ¡ä»¶åˆ¤å®š**: è£…å‚™å¯å¦ã€ã‚¹ã‚­ãƒ«ä½¿ç”¨å¯å¦ã€å‹æ•—åˆ¤å®šãªã©
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—**: åŸºç¤å€¤ + è£…å‚™è£œæ­£ + ãƒãƒ•/ãƒ‡ãƒãƒ•
- **ãƒ«ãƒ¼ãƒ«å‡¦ç†**: ã‚²ãƒ¼ãƒ ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹ã®å…·ä½“çš„ãªè¨ˆç®—å¼

### âŒ Core Engine ãŒæ‰±ã‚ãªã„ã‚‚ã®

- **æ“ä½œãƒ•ãƒ­ãƒ¼**: ã‚³ãƒãƒ³ãƒ‰é¸æŠã®æµã‚Œï¼ˆâ†’ Service ã®è²¬ä»»ï¼‰
- **çŠ¶æ…‹ç®¡ç†**: ã‚¿ãƒ¼ãƒ³é€²è¡Œã€ãƒ•ã‚§ãƒ¼ã‚ºç®¡ç†ï¼ˆâ†’ Service ã®è²¬ä»»ï¼‰
- **UIè¡¨ç¾**: è¡¨ç¤ºã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆâ†’ UIå±¤ã®è²¬ä»»ï¼‰
- **æ°¸ç¶šåŒ–**: ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰å‡¦ç†ï¼ˆâ†’ Save Service ã®è²¬ä»»ï¼‰

---

## æ©Ÿèƒ½åˆ¥è©³ç´°

### ğŸ® æˆ¦é—˜ã«é–¢ã™ã‚‹è¨ˆç®—

#### è¡Œå‹•é †ã®è¨ˆç®—
- ç´ æ—©ã•ã«åŸºã¥ãè¡Œå‹•é †ã®æ±ºå®š
- å…ˆåˆ¶æ”»æ’ƒãƒ»ä¸æ„æ‰“ã¡ã®åˆ¤å®š
- è¡Œå‹•é †è£œæ­£ã®é©ç”¨

#### ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
- ç‰©ç†æ”»æ’ƒã®ãƒ€ãƒ¡ãƒ¼ã‚¸
  - æ”»æ’ƒåŠ› - é˜²å¾¡åŠ›ã‚’åŸºæº–ã¨ã—ãŸè¨ˆç®—
  - æ­¦å™¨ã®æ”»æ’ƒåŠ›è£œæ­£
  - ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ’ãƒƒãƒˆåˆ¤å®šã¨å€ç‡
  - å±æ€§ç›¸æ€§ã«ã‚ˆã‚‹è£œæ­£
  - ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ã®ä»˜ä¸
- é­”æ³•æ”»æ’ƒã®ãƒ€ãƒ¡ãƒ¼ã‚¸
  - é­”åŠ›ãƒ™ãƒ¼ã‚¹ã®è¨ˆç®—
  - é­”æ³•é˜²å¾¡ã«ã‚ˆã‚‹è»½æ¸›
  - å±æ€§ç›¸æ€§ã«ã‚ˆã‚‹è£œæ­£
- ã‚¹ã‚­ãƒ«ã®ãƒ€ãƒ¡ãƒ¼ã‚¸
  - ã‚¹ã‚­ãƒ«å›ºæœ‰ã®å€ç‡
  - ã‚³ã‚¹ãƒˆï¼ˆMPã€SPãªã©ï¼‰ã®è¨ˆç®—

#### å›å¾©é‡ã®è¨ˆç®—
- å›å¾©ã‚¹ã‚­ãƒ«ã®åŠ¹æœé‡
  - å›ºå®šå€¤å›å¾©
  - å‰²åˆå›å¾©
  - æœ€å¤§HPã«åŸºã¥ãå›å¾©
- ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚ˆã‚‹å›å¾©
- ç¶™ç¶šå›å¾©ã®è¨ˆç®—

#### å‘½ä¸­ãƒ»å›é¿ã®åˆ¤å®š
- å‘½ä¸­ç‡ã®è¨ˆç®—
- å›é¿ç‡ã®è¨ˆç®—
- å¿…ä¸­ã‚¹ã‚­ãƒ«ã®å‡¦ç†

#### å‹åˆ©æ¡ä»¶ãƒ»æ•—åŒ—æ¡ä»¶ã®åˆ¤å®š
- å…¨æ»…åˆ¤å®š
- é€ƒèµ°æˆåŠŸç‡ã®è¨ˆç®—
- ç‰¹æ®Šå‹åˆ©æ¡ä»¶ã®åˆ¤å®š

---

### ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã«é–¢ã™ã‚‹è¨ˆç®—

#### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£ã®è¨ˆç®—
- åŸºç¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å–å¾—
- è£…å‚™ã«ã‚ˆã‚‹è£œæ­£
- ãƒãƒ•/ãƒ‡ãƒãƒ•ã«ã‚ˆã‚‹è£œæ­£
- ã‚¸ãƒ§ãƒ–ãƒ»ã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹è£œæ­£
- ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹è£œæ­£
- æœ€çµ‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç®—å‡º

#### ãƒ¬ãƒ™ãƒ«ã¨æˆé•·ã«é–¢ã™ã‚‹è¨ˆç®—
- çµŒé¨“å€¤ã®è¨ˆç®—
  - æˆ¦é—˜å ±é…¬ã®çµŒé¨“å€¤
  - ãƒ‘ãƒ¼ãƒ†ã‚£ã¸ã®é…åˆ†
  - çµŒé¨“å€¤ãƒœãƒ¼ãƒŠã‚¹ã®é©ç”¨
- ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—åˆ¤å®š
  - å¿…è¦çµŒé¨“å€¤ã®è¨ˆç®—
  - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å¯å¦ã®åˆ¤å®š
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æˆé•·ã®è¨ˆç®—
  - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—æ™‚ã®èƒ½åŠ›å€¤ä¸Šæ˜‡
  - æˆé•·ç‡ã«ã‚ˆã‚‹å¤‰å‹•
  - ã‚¸ãƒ§ãƒ–åˆ¥æˆé•·è£œæ­£

#### ã‚¹ã‚­ãƒ«ç¿’å¾—ã«é–¢ã™ã‚‹åˆ¤å®š
- ç¿’å¾—æ¡ä»¶ã®åˆ¤å®š
  - ãƒ¬ãƒ™ãƒ«è¦ä»¶
  - ã‚¸ãƒ§ãƒ–è¦ä»¶
  - å‰æã‚¹ã‚­ãƒ«è¦ä»¶
- ã‚¹ã‚­ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†
  - ã‚¹ã‚­ãƒ«ã®åŠ¹æœ
  - ä½¿ç”¨ã‚³ã‚¹ãƒˆ
  - å¯¾è±¡ç¯„å›²

#### è·æ¥­ãƒ»ã‚¯ãƒ©ã‚¹ã«é–¢ã™ã‚‹è¨ˆç®—
- è»¢è·æ¡ä»¶ã®åˆ¤å®š
  - ãƒ¬ãƒ™ãƒ«è¦ä»¶
  - ã‚¢ã‚¤ãƒ†ãƒ è¦ä»¶
  - ã‚¯ã‚¨ã‚¹ãƒˆå®Œäº†è¦ä»¶
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£ã®è¨ˆç®—
  - ã‚¸ãƒ§ãƒ–ãƒœãƒ¼ãƒŠã‚¹
  - è£…å‚™å¯èƒ½æ­¦å™¨ãƒ»é˜²å…·ã®åˆ¤å®š
- è£…å‚™å¯å¦ã®åˆ¤å®š
  - ã‚¸ãƒ§ãƒ–åˆ¶é™ã®ãƒã‚§ãƒƒã‚¯

---

### ğŸ’ è£…å‚™ãƒ»ã‚¢ã‚¤ãƒ†ãƒ ã«é–¢ã™ã‚‹è¨ˆç®—

#### è£…å‚™ã«é–¢ã™ã‚‹åˆ¤å®šã¨è¨ˆç®—
- è£…å‚™å¯èƒ½æ¡ä»¶ã®åˆ¤å®š
  - ãƒ¬ãƒ™ãƒ«åˆ¶é™
  - ã‚¸ãƒ§ãƒ–åˆ¶é™
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¦ä»¶
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£ã®è¨ˆç®—
  - æ”»æ’ƒåŠ›ãƒ»é˜²å¾¡åŠ›ã®è£œæ­£
  - å±æ€§è€æ€§ã®ä»˜ä¸
  - ç‰¹æ®ŠåŠ¹æœã®é©ç”¨
- è£…å‚™åŠ¹æœã®é©ç”¨
  - ã‚»ãƒƒãƒˆåŠ¹æœ
  - ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆåŠ¹æœ

#### ã‚¢ã‚¤ãƒ†ãƒ ã«é–¢ã™ã‚‹è¨ˆç®—
- ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœè¨ˆç®—
  - å›å¾©ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœé‡
  - ãƒãƒ•ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœ
  - æˆ¦é—˜ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœ
- ä½¿ç”¨å¯èƒ½æ¡ä»¶ã®åˆ¤å®š
  - æˆ¦é—˜ä¸­/ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã®ä½¿ç”¨å¯å¦
  - å¯¾è±¡æ¡ä»¶ã®åˆ¤å®š
- ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã®æ›´æ–°
  - ã‚¢ã‚¤ãƒ†ãƒ æ•°ã®å¢—æ¸›
  - æ‰€æŒä¸Šé™ã®ãƒã‚§ãƒƒã‚¯

---

### ğŸ§  æ•µã¨AIã«é–¢ã™ã‚‹è¨ˆç®—

#### æ•µã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
- æ•µã®åˆæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨­å®š
  - ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸèƒ½åŠ›å€¤
  - æ•µç¨®åˆ¥ã«ã‚ˆã‚‹è£œæ­£
- ä½¿ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã®åˆ—æŒ™
  - ã‚¹ã‚­ãƒ«ã®ä½¿ç”¨æ¡ä»¶ãƒã‚§ãƒƒã‚¯
  - MP/SPã‚³ã‚¹ãƒˆã®ç¢ºèª

#### ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒªãƒ¯ãƒ¼ãƒ‰ã®è¨ˆç®—
- ãƒ‰ãƒ­ãƒƒãƒ—åˆ¤å®šã®è¨ˆç®—
  - ã‚¢ã‚¤ãƒ†ãƒ ãƒ‰ãƒ­ãƒƒãƒ—ç‡
  - ãƒ¬ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—åˆ¤å®š
  - ãƒ‰ãƒ­ãƒƒãƒ—å€‹æ•°ã®æ±ºå®š
- å¯¾è±¡å€™è£œã®è©•ä¾¡
  - AIç”¨ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸å®š
  - è„…å¨åº¦ã®è¨ˆç®—
  - å„ªå…ˆåº¦ã®ç®—å‡º

---

### ğŸ’« çŠ¶æ…‹ç•°å¸¸ãƒ»ãƒãƒ•ãƒ»ãƒ‡ãƒãƒ•ã«é–¢ã™ã‚‹è¨ˆç®—

#### çŠ¶æ…‹ç•°å¸¸ã®ä»˜ä¸åˆ¤å®š
- çŠ¶æ…‹ç•°å¸¸ã®ä»˜ä¸åˆ¤å®š
  - åŸºæœ¬æˆåŠŸç‡
  - è€æ€§ã«ã‚ˆã‚‹è»½æ¸›
  - ç¢ºç‡è¨ˆç®—
- åŠ¹æœã®è¨ˆç®—
  - æ¯’ãƒ€ãƒ¡ãƒ¼ã‚¸ãªã©ã®ç¶™ç¶šãƒ€ãƒ¡ãƒ¼ã‚¸
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰å‹•ã®è¨ˆç®—
  - è¡Œå‹•åˆ¶é™ã®åˆ¤å®š
- è§£é™¤æ¡ä»¶ã®åˆ¤å®š
  - ã‚¿ãƒ¼ãƒ³çµŒéã«ã‚ˆã‚‹è‡ªç„¶è§£é™¤
  - ã‚¢ã‚¤ãƒ†ãƒ ãƒ»ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚‹è§£é™¤
  - ç‰¹å®šæ¡ä»¶ã§ã®è‡ªå‹•è§£é™¤

#### ãƒãƒ•ãƒ»ãƒ‡ãƒãƒ•ã®è¨ˆç®—
- åŠ¹æœé‡ã®è¨ˆç®—
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸Šæ˜‡/ä¸‹é™ã®å€ç‡
  - é‡è¤‡æ™‚ã®å‡¦ç†
  - ã‚¹ã‚¿ãƒƒã‚¯ä¸Šé™
- æŒç¶šæ™‚é–“ã®ç®¡ç†
  - æ®‹ã‚Šã‚¿ãƒ¼ãƒ³æ•°ã®è¨ˆç®—
  - åŠ¹æœã®å»¶é•·ãƒ»çŸ­ç¸®

---

### ğŸ›  ã‚¯ãƒ©ãƒ•ãƒˆãƒ»å¼·åŒ–ã«é–¢ã™ã‚‹è¨ˆç®—

#### ã‚¢ã‚¤ãƒ†ãƒ åˆæˆ
- ç´ æã®æ‰€æŒãƒã‚§ãƒƒã‚¯
  - å¿…è¦ç´ æã®ç¢ºèª
  - ç´ æã®å€‹æ•°ãƒã‚§ãƒƒã‚¯
- æˆåŠŸç‡ã®è¨ˆç®—
  - åŸºæœ¬æˆåŠŸç‡
  - ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚‹è£œæ­£
  - ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚ˆã‚‹ãƒœãƒ¼ãƒŠã‚¹
- çµæœã‚¢ã‚¤ãƒ†ãƒ ã®ç”Ÿæˆ
  - é€šå¸¸æˆåŠŸæ™‚ã®ã‚¢ã‚¤ãƒ†ãƒ 
  - å¤§æˆåŠŸæ™‚ã®ãƒœãƒ¼ãƒŠã‚¹
  - å¤±æ•—æ™‚ã®ç´ æè¿”é‚„åˆ¤å®š
- ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã®æ›´æ–°
  - ç´ æã®æ¶ˆè²»
  - å®Œæˆå“ã®è¿½åŠ 

#### è£…å‚™ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¼·åŒ–
- æˆåŠŸç‡ã®è¨ˆç®—
  - å¼·åŒ–ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸæˆåŠŸç‡
  - å®‰å…¨åœã®åˆ¤å®š
  - å¤±æ•—æ™‚ã®ãƒšãƒŠãƒ«ãƒ†ã‚£åˆ¤å®š
- èƒ½åŠ›å€¤ä¸Šæ˜‡ã®è¨ˆç®—
  - å¼·åŒ–ã«ã‚ˆã‚‹ä¸Šæ˜‡å€¤
  - ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ 
  - ä¸Šé™å€¤ã®åˆ¤å®š
- ã‚³ã‚¹ãƒˆã®æ¶ˆè²»å‡¦ç†
  - å¼·åŒ–ç´ æã®æ¶ˆè²»
  - ãŠé‡‘ã®æ¶ˆè²»

---

### ğŸ’¾ æ°¸ç¶šåŒ–ã¨æ•´åˆæ€§

#### ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®æ°¸ç¶šåŒ–
- çŠ¶æ…‹ã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º
  - Game Stateã®æ°¸ç¶šåŒ–å½¢å¼ã¸ã®å¤‰æ›
  - ãƒ‡ãƒ¼ã‚¿ã®åœ§ç¸®
- ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®ç®¡ç†
  - äº’æ›æ€§ã®ãƒã‚§ãƒƒã‚¯
  - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†

---

### ğŸ¯ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨åˆ†æ

#### æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè¡Œ
- è‡ªå‹•æˆ¦é—˜ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- AIè¡Œå‹•ã®æ±ºå®š
- æˆ¦é—˜çµæœã®äºˆæ¸¬

#### ç¢ºç‡è¨ˆç®—
- å„ç¨®åˆ¤å®šã®ç¢ºç‡è¨ˆç®—
- æœŸå¾…å€¤ã®ç®—å‡º
- åˆ†æ•£ã®è¨ˆç®—

#### ãƒ€ãƒ¡ãƒ¼ã‚¸æœŸå¾…å€¤ã®è¨ˆç®—
- å¹³å‡ãƒ€ãƒ¡ãƒ¼ã‚¸ã®ç®—å‡º
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«è¾¼ã¿ã®æœŸå¾…å€¤
- æœ€å¤§/æœ€å°ãƒ€ãƒ¡ãƒ¼ã‚¸ã®è¨ˆç®—

---

## å‹å®šç¾©

### å…±é€šå‹å®šç¾©

#### åŸºæœ¬å‹

```typescript
/**
 * ãƒ¦ãƒ‹ãƒ¼ã‚¯IDå‹
 * - ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®è­˜åˆ¥ã«ä½¿ç”¨
 */
type UniqueId = string;

/**
 * ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—å‹
 * - ãƒŸãƒªç§’å˜ä½ã®UNIXã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
 */
type Timestamp = number;

/**
 * ç¢ºç‡å‹
 * - 0.0ï¼ˆ0%ï¼‰ã‹ã‚‰1.0ï¼ˆ100%ï¼‰ã®ç¯„å›²
 */
type Probability = number;

/**
 * ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸å‹
 * - 0ã‹ã‚‰100ã®ç¯„å›²
 */
type Percentage = number;
```

#### å±æ€§å‹

```typescript
/**
 * å±æ€§ã‚¿ã‚¤ãƒ—
 * - ã‚²ãƒ¼ãƒ å†…ã®å„ç¨®å±æ€§ã‚’è¡¨ç¾
 */
type Element = 
  | 'none'      // ç„¡å±æ€§
  | 'fire'      // ç‚
  | 'water'     // æ°´
  | 'earth'     // åœŸ
  | 'wind'      // é¢¨
  | 'lightning' // é›·
  | 'ice'       // æ°·
  | 'light'     // å…‰
  | 'dark';     // é—‡

/**
 * å±æ€§è€æ€§ãƒãƒƒãƒ—
 * - å„å±æ€§ã«å¯¾ã™ã‚‹è€æ€§å€¤ï¼ˆ0.0ã€œ2.0ï¼‰
 * - 1.0 = é€šå¸¸ã€0.5 = åŠæ¸›ã€2.0 = 2å€ãƒ€ãƒ¡ãƒ¼ã‚¸ã€0 = ç„¡åŠ¹
 */
interface ElementResistance {
  fire: number;
  water: number;
  earth: number;
  wind: number;
  lightning: number;
  ice: number;
  light: number;
  dark: number;
}
```

### æˆ¦é—˜é–¢é€£ã®å‹

#### æˆ¦é—˜å‚åŠ è€…

```typescript
/**
 * æˆ¦é—˜å‚åŠ è€…ã®åŸºæœ¬ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
 * - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨æ•µã®å…±é€šå±æ€§
 */
interface Combatant {
  id: UniqueId;              // ãƒ¦ãƒ‹ãƒ¼ã‚¯ID
  name: string;              // åå‰
  level: number;             // ãƒ¬ãƒ™ãƒ«
  stats: Stats;              // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  currentHp: number;         // ç¾åœ¨ã®HP
  currentMp: number;         // ç¾åœ¨ã®MP
  statusEffects: StatusEffect[]; // ç¾åœ¨ã®çŠ¶æ…‹ç•°å¸¸
  position: number;          // éšŠåˆ—ä½ç½®ï¼ˆ0=å‰åˆ—ã€1=å¾Œåˆ—ï¼‰
}

/**
 * ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ§‹é€ ä½“
 * - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚„æ•µã®èƒ½åŠ›å€¤
 */
interface Stats {
  maxHp: number;            // æœ€å¤§HP
  maxMp: number;            // æœ€å¤§MP
  attack: number;           // æ”»æ’ƒåŠ›
  defense: number;          // é˜²å¾¡åŠ›
  magic: number;            // é­”åŠ›
  magicDefense: number;     // é­”æ³•é˜²å¾¡
  speed: number;            // ç´ æ—©ã•
  luck: number;             // é‹
  accuracy: number;         // å‘½ä¸­ç‡è£œæ­£
  evasion: number;          // å›é¿ç‡è£œæ­£
  criticalRate: number;     // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç‡è£œæ­£
}
```

#### ã‚¹ã‚­ãƒ«

```typescript
/**
 * ã‚¹ã‚­ãƒ«ã‚¿ã‚¤ãƒ—
 */
type SkillType = 
  | 'physical'  // ç‰©ç†æ”»æ’ƒ
  | 'magic'     // é­”æ³•æ”»æ’ƒ
  | 'heal'      // å›å¾©
  | 'buff'      // ãƒãƒ•
  | 'debuff'    // ãƒ‡ãƒãƒ•
  | 'special';  // ç‰¹æ®Š

/**
 * ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚¿ã‚¤ãƒ—
 */
type TargetType = 
  | 'single-enemy'    // æ•µå˜ä½“
  | 'all-enemies'     // æ•µå…¨ä½“
  | 'single-ally'     // å‘³æ–¹å˜ä½“
  | 'all-allies'      // å‘³æ–¹å…¨ä½“
  | 'self'            // è‡ªåˆ†
  | 'random-enemies'  // æ•µãƒ©ãƒ³ãƒ€ãƒ 
  | 'random-allies';  // å‘³æ–¹ãƒ©ãƒ³ãƒ€ãƒ 

/**
 * ã‚¹ã‚­ãƒ«å®šç¾©
 */
interface Skill {
  id: UniqueId;             // ã‚¹ã‚­ãƒ«ID
  name: string;             // ã‚¹ã‚­ãƒ«å
  type: SkillType;          // ã‚¹ã‚­ãƒ«ã‚¿ã‚¤ãƒ—
  targetType: TargetType;   // å¯¾è±¡ã‚¿ã‚¤ãƒ—
  element: Element;         // å±æ€§
  power: number;            // å¨åŠ›ï¼ˆå€ç‡ï¼‰
  mpCost: number;           // æ¶ˆè²»MP
  accuracy: number;         // å‘½ä¸­ç‡ï¼ˆ1.0 = 100%ï¼‰
  criticalBonus: number;    // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç‡ãƒœãƒ¼ãƒŠã‚¹
  isGuaranteedHit: boolean; // å¿…ä¸­ãƒ•ãƒ©ã‚°
  statusEffects?: StatusEffectApplication[]; // ä»˜ä¸ã™ã‚‹çŠ¶æ…‹ç•°å¸¸
  description: string;      // ã‚¹ã‚­ãƒ«èª¬æ˜
}

/**
 * çŠ¶æ…‹ç•°å¸¸ä»˜ä¸æƒ…å ±
 */
interface StatusEffectApplication {
  effectType: StatusEffectType; // çŠ¶æ…‹ç•°å¸¸ã‚¿ã‚¤ãƒ—
  probability: Probability;     // ä»˜ä¸ç¢ºç‡
  duration: number;             // æŒç¶šã‚¿ãƒ¼ãƒ³æ•°
  power: number;                // åŠ¹æœã®å¼·ã•
}
```

#### ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—çµæœ

```typescript
/**
 * ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—çµæœ
 * - ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ã®è©³ç´°æƒ…å ±ã‚’å«ã‚€
 */
interface DamageResult {
  finalDamage: number;          // æœ€çµ‚ãƒ€ãƒ¡ãƒ¼ã‚¸
  baseDamage: number;           // åŸºç¤ãƒ€ãƒ¡ãƒ¼ã‚¸
  isCritical: boolean;          // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ’ãƒƒãƒˆãƒ•ãƒ©ã‚°
  isHit: boolean;               // å‘½ä¸­ãƒ•ãƒ©ã‚°
  elementalModifier: number;    // å±æ€§ç›¸æ€§å€ç‡
  variance: number;             // ãƒ€ãƒ¡ãƒ¼ã‚¸åˆ†æ•£å€¤
  appliedModifiers: DamageModifier[]; // é©ç”¨ã•ã‚ŒãŸè£œæ­£
}

/**
 * ãƒ€ãƒ¡ãƒ¼ã‚¸è£œæ­£æƒ…å ±
 */
interface DamageModifier {
  source: string;   // è£œæ­£ã®å‡ºæ‰€ï¼ˆä¾‹: "ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«", "å±æ€§ç›¸æ€§"ï¼‰
  multiplier: number; // è£œæ­£å€ç‡
}

/**
 * å›å¾©çµæœ
 */
interface HealResult {
  healAmount: number;       // å›å¾©é‡
  overheal: number;         // ã‚ªãƒ¼ãƒãƒ¼ãƒ’ãƒ¼ãƒ«é‡
  isCritical: boolean;      // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«å›å¾©ãƒ•ãƒ©ã‚°
}
```

### ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£ã®å‹

```typescript
/**
 * ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
 * - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å®Œå…¨ãªå®šç¾©
 */
interface Character extends Combatant {
  experience: number;               // ç¾åœ¨ã®çµŒé¨“å€¤
  expToNextLevel: number;           // æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¾ã§ã®å¿…è¦çµŒé¨“å€¤
  job: Job;                         // ç¾åœ¨ã®ã‚¸ãƒ§ãƒ–
  equipment: EquipmentSet;          // è£…å‚™ã‚»ãƒƒãƒˆ
  skills: Skill[];                  // ç¿’å¾—æ¸ˆã¿ã‚¹ã‚­ãƒ«
  jobHistory: JobHistory[];         // è»¢è·å±¥æ­´
  baseStats: Stats;                 // åŸºç¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆè£…å‚™ãªã—ï¼‰
}

/**
 * ã‚¸ãƒ§ãƒ–å®šç¾©
 */
interface Job {
  id: UniqueId;                     // ã‚¸ãƒ§ãƒ–ID
  name: string;                     // ã‚¸ãƒ§ãƒ–å
  description: string;              // ã‚¸ãƒ§ãƒ–èª¬æ˜
  statModifiers: Partial<Stats>;    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£
  statGrowthRates: Partial<Stats>;  // æˆé•·ç‡
  learnableSkills: SkillLearnCondition[]; // ç¿’å¾—å¯èƒ½ã‚¹ã‚­ãƒ«
  equipmentRestrictions: EquipmentType[]; // è£…å‚™å¯èƒ½ç¨®åˆ¥
  icon: string;                     // ã‚¢ã‚¤ã‚³ãƒ³URL
}

/**
 * ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—çµæœ
 */
interface LevelUpResult {
  levelsGained: number;             // ä¸ŠãŒã£ãŸãƒ¬ãƒ™ãƒ«æ•°
  newLevel: number;                 // æ–°ã—ã„ãƒ¬ãƒ™ãƒ«
  statsGained: Partial<Stats>;      // ä¸Šæ˜‡ã—ãŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  skillsLearned: Skill[];           // ç¿’å¾—ã—ãŸã‚¹ã‚­ãƒ«
  remainingExp: number;             // ä½™å‰°çµŒé¨“å€¤
}
```

### ã‚¢ã‚¤ãƒ†ãƒ é–¢é€£ã®å‹

```typescript
/**
 * ã‚¢ã‚¤ãƒ†ãƒ ã‚«ãƒ†ã‚´ãƒª
 */
type ItemCategory = 
  | 'consumable'    // æ¶ˆè€—å“
  | 'equipment'     // è£…å‚™
  | 'material'      // ç´ æ
  | 'key-item'      // é‡è¦ã‚¢ã‚¤ãƒ†ãƒ 
  | 'quest-item';   // ã‚¯ã‚¨ã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ 

/**
 * ã‚¢ã‚¤ãƒ†ãƒ åŸºæœ¬å®šç¾©
 */
interface Item {
  id: UniqueId;                     // ã‚¢ã‚¤ãƒ†ãƒ ID
  name: string;                     // ã‚¢ã‚¤ãƒ†ãƒ å
  description: string;              // èª¬æ˜
  category: ItemCategory;           // ã‚«ãƒ†ã‚´ãƒª
  rarity: number;                   // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ï¼ˆ1ã€œ5ï¼‰
  stackable: boolean;               // ã‚¹ã‚¿ãƒƒã‚¯å¯èƒ½ãƒ•ãƒ©ã‚°
  maxStack: number;                 // æœ€å¤§ã‚¹ã‚¿ãƒƒã‚¯æ•°
  sellPrice: number;                // å£²å´ä¾¡æ ¼
  icon: string;                     // ã‚¢ã‚¤ã‚³ãƒ³URL
}

/**
 * è£…å‚™ã‚¿ã‚¤ãƒ—
 */
type EquipmentType = 
  | 'weapon'        // æ­¦å™¨
  | 'head'          // é ­
  | 'body'          // ä½“
  | 'accessory1'    // ã‚¢ã‚¯ã‚»ã‚µãƒª1
  | 'accessory2';   // ã‚¢ã‚¯ã‚»ã‚µãƒª2

/**
 * è£…å‚™ã‚¢ã‚¤ãƒ†ãƒ 
 */
interface Equipment extends Item {
  category: 'equipment';
  equipmentType: EquipmentType;     // è£…å‚™ã‚¿ã‚¤ãƒ—
  weaponType?: WeaponType;          // æ­¦å™¨ç¨®åˆ¥ï¼ˆæ­¦å™¨ã®å ´åˆï¼‰
  statBonus: Partial<Stats>;        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒœãƒ¼ãƒŠã‚¹
  elementResistance?: Partial<ElementResistance>; // å±æ€§è€æ€§
  levelRequired: number;            // å¿…è¦ãƒ¬ãƒ™ãƒ«
  jobRestrictions: UniqueId[];      // ã‚¸ãƒ§ãƒ–åˆ¶é™
  specialEffects: EquipmentEffect[]; // ç‰¹æ®ŠåŠ¹æœ
  enhanceLevel: number;             // å¼·åŒ–ãƒ¬ãƒ™ãƒ«
  maxEnhanceLevel: number;          // æœ€å¤§å¼·åŒ–ãƒ¬ãƒ™ãƒ«
}

/**
 * ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒ­ãƒƒãƒˆ
 */
interface InventorySlot {
  item: Item;                       // ã‚¢ã‚¤ãƒ†ãƒ 
  quantity: number;                 // æ•°é‡
}

/**
 * ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª
 */
interface Inventory {
  slots: InventorySlot[];           // ã‚¹ãƒ­ãƒƒãƒˆãƒªã‚¹ãƒˆ
  maxSlots: number;                 // æœ€å¤§ã‚¹ãƒ­ãƒƒãƒˆæ•°
  money: number;                    // æ‰€æŒé‡‘
}
```

### çŠ¶æ…‹ç•°å¸¸é–¢é€£ã®å‹

```typescript
/**
 * çŠ¶æ…‹ç•°å¸¸ã‚¿ã‚¤ãƒ—
 */
type StatusEffectType = 
  | 'poison'        // æ¯’
  | 'burn'          // ç‚ä¸Š
  | 'paralysis'     // éº»ç—º
  | 'sleep'         // ç¡çœ 
  | 'confusion'     // æ··ä¹±
  | 'silence'       // æ²ˆé»™
  | 'blind'         // æš—é—‡
  | 'stun'          // ã‚¹ã‚¿ãƒ³
  | 'regeneration'  // ãƒªã‚¸ã‚§ãƒ
  | 'attack-up'     // æ”»æ’ƒåŠ›ã‚¢ãƒƒãƒ—
  | 'attack-down'   // æ”»æ’ƒåŠ›ãƒ€ã‚¦ãƒ³
  | 'defense-up'    // é˜²å¾¡åŠ›ã‚¢ãƒƒãƒ—
  | 'defense-down'  // é˜²å¾¡åŠ›ãƒ€ã‚¦ãƒ³
  | 'speed-up'      // ç´ æ—©ã•ã‚¢ãƒƒãƒ—
  | 'speed-down';   // ç´ æ—©ã•ãƒ€ã‚¦ãƒ³

/**
 * çŠ¶æ…‹ç•°å¸¸ã‚«ãƒ†ã‚´ãƒª
 */
type StatusEffectCategory = 
  | 'debuff'        // ãƒ‡ãƒãƒ•
  | 'buff'          // ãƒãƒ•
  | 'dot'           // ç¶™ç¶šãƒ€ãƒ¡ãƒ¼ã‚¸
  | 'hot'           // ç¶™ç¶šå›å¾©
  | 'disable';      // è¡Œå‹•åˆ¶é™

/**
 * çŠ¶æ…‹ç•°å¸¸
 */
interface StatusEffect {
  id: UniqueId;                     // çŠ¶æ…‹ç•°å¸¸ID
  type: StatusEffectType;           // ã‚¿ã‚¤ãƒ—
  category: StatusEffectCategory;   // ã‚«ãƒ†ã‚´ãƒª
  name: string;                     // åå‰
  description: string;              // èª¬æ˜
  power: number;                    // åŠ¹æœã®å¼·ã•
  duration: number;                 // æ®‹ã‚ŠæŒç¶šã‚¿ãƒ¼ãƒ³æ•°
  maxDuration: number;              // æœ€å¤§æŒç¶šã‚¿ãƒ¼ãƒ³æ•°
  stackCount: number;               // ã‚¹ã‚¿ãƒƒã‚¯æ•°
  maxStack: number;                 // æœ€å¤§ã‚¹ã‚¿ãƒƒã‚¯æ•°
  canBeDispelled: boolean;          // è§£é™¤å¯èƒ½ãƒ•ãƒ©ã‚°
  appliedAt: Timestamp;             // ä»˜ä¸æ™‚åˆ»
  source?: UniqueId;                // ä»˜ä¸å…ƒID
}
```

### æ•µé–¢é€£ã®å‹

```typescript
/**
 * æ•µã‚¿ã‚¤ãƒ—
 */
interface EnemyType {
  id: UniqueId;                     // æ•µã‚¿ã‚¤ãƒ—ID
  name: string;                     // åå‰
  description: string;              // èª¬æ˜
  baseStats: Stats;                 // åŸºç¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  statGrowthRate: number;           // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æˆé•·ç‡
  skills: Skill[];                  // ä½¿ç”¨å¯èƒ½ã‚¹ã‚­ãƒ«
  aiStrategy: AIStrategy;           // AIæˆ¦ç•¥
  dropTable: DropTable;             // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«
  expReward: number;                // çµŒé¨“å€¤å ±é…¬
  moneyReward: number;              // ãŠé‡‘å ±é…¬
  elementResistance: ElementResistance; // å±æ€§è€æ€§
  sprite: string;                   // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆURL
}

/**
 * æ•µã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
 */
interface Enemy extends Combatant {
  enemyType: EnemyType;             // æ•µã‚¿ã‚¤ãƒ—
  aiStrategy: AIStrategy;           // AIæˆ¦ç•¥
  threatLevel: number;              // è„…å¨åº¦
}

/**
 * AIæˆ¦ç•¥
 */
interface AIStrategy {
  id: UniqueId;                     // æˆ¦ç•¥ID
  name: string;                     // æˆ¦ç•¥å
  targetingPriority: TargetPriority; // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå„ªå…ˆåº¦
  skillSelectionRules: SkillSelectionRule[]; // ã‚¹ã‚­ãƒ«é¸æŠãƒ«ãƒ¼ãƒ«
  behaviorModifiers: BehaviorModifier[]; // è¡Œå‹•è£œæ­£
}

/**
 * ãƒ‰ãƒ­ãƒƒãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«
 */
interface DropTable {
  guaranteedDrops: DropItem[];      // ç¢ºå®šãƒ‰ãƒ­ãƒƒãƒ—
  randomDrops: DropItem[];          // ãƒ©ãƒ³ãƒ€ãƒ ãƒ‰ãƒ­ãƒƒãƒ—
  rareDrops: DropItem[];            // ãƒ¬ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—
}

/**
 * ãƒ‰ãƒ­ãƒƒãƒ—ã‚¢ã‚¤ãƒ†ãƒ 
 */
interface DropItem {
  item: Item;                       // ã‚¢ã‚¤ãƒ†ãƒ 
  quantity: number;                 // æ•°é‡
  dropRate: Probability;            // ãƒ‰ãƒ­ãƒƒãƒ—ç‡
  isRare: boolean;                  // ãƒ¬ã‚¢ãƒ•ãƒ©ã‚°
}
```

### ã‚¯ãƒ©ãƒ•ãƒˆé–¢é€£ã®å‹

```typescript
/**
 * ãƒ¬ã‚·ãƒ”
 */
interface Recipe {
  id: UniqueId;                     // ãƒ¬ã‚·ãƒ”ID
  name: string;                     // ãƒ¬ã‚·ãƒ”å
  description: string;              // èª¬æ˜
  requiredMaterials: MaterialRequirement[]; // å¿…è¦ç´ æ
  resultItem: Item;                 // ç”Ÿæˆã‚¢ã‚¤ãƒ†ãƒ 
  resultQuantity: number;           // ç”Ÿæˆæ•°é‡
  baseSuccessRate: Probability;     // åŸºæœ¬æˆåŠŸç‡
  synthesisTime: number;            // åˆæˆæ™‚é–“ï¼ˆç§’ï¼‰
  requiredLevel?: number;           // å¿…è¦ãƒ¬ãƒ™ãƒ«
  requiredSkill?: UniqueId;         // å¿…è¦ã‚¹ã‚­ãƒ«
  category: CraftCategory;          // ã‚«ãƒ†ã‚´ãƒª
  unlockCondition?: RecipeUnlockCondition; // è§£æ”¾æ¡ä»¶
  isUnlockedByDefault?: boolean;    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è§£æ”¾ã•ã‚Œã¦ã„ã‚‹ã‹
}

/**
 * ã‚¯ãƒ©ãƒ•ãƒˆã‚«ãƒ†ã‚´ãƒª
 */
type CraftCategory = 
  | 'alchemy'       // éŒ¬é‡‘è¡“
  | 'blacksmith'    // é›å†¶
  | 'cooking'       // æ–™ç†
  | 'crafting';     // å·¥èŠ¸

/**
 * åˆæˆçµæœ
 */
interface SynthesisResult {
  outcome: SynthesisOutcome;        // çµæœ
  itemsProduced: InventorySlot[];   // ç”Ÿæˆã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ 
  materialsReturned: InventorySlot[]; // è¿”å´ã•ã‚ŒãŸç´ æ
  bonusItems?: InventorySlot[];     // ãƒœãƒ¼ãƒŠã‚¹ã‚¢ã‚¤ãƒ†ãƒ 
  message: string;                  // çµæœãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
}

/**
 * åˆæˆçµæœã‚¿ã‚¤ãƒ—
 */
type SynthesisOutcome = 
  | 'great-success' // å¤§æˆåŠŸ
  | 'success'       // æˆåŠŸ
  | 'failure';      // å¤±æ•—
```

### ã‚²ãƒ¼ãƒ è¨­å®šã®å‹

```typescript
/**
 * ã‚²ãƒ¼ãƒ è¨­å®š
 * - ã‚²ãƒ¼ãƒ å…¨ä½“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨è¨­å®š
 */
interface GameConfig {
  // æˆ¦é—˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  combat: CombatConfig;
  
  // æˆé•·ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  growth: GrowthConfig;
  
  // ãƒãƒ©ãƒ³ã‚¹èª¿æ•´
  balance: BalanceConfig;
  
  // çŠ¶æ…‹ç•°å¸¸ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  status: StatusConfig;
  
  // ã‚¯ãƒ©ãƒ•ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  craft: CraftConfig;
}

/**
 * æˆ¦é—˜è¨­å®š
 */
interface CombatConfig {
  baseCriticalRate: Probability;    // åŸºæœ¬ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç‡ï¼ˆ0.05 = 5%ï¼‰
  criticalMultiplier: number;       // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«å€ç‡ï¼ˆ2.0 = 2å€ï¼‰
  damageVariance: number;           // ãƒ€ãƒ¡ãƒ¼ã‚¸åˆ†æ•£ï¼ˆ0.1 = Â±10%ï¼‰
  escapeBaseRate: Probability;      // åŸºæœ¬é€ƒèµ°æˆåŠŸç‡ï¼ˆ0.5 = 50%ï¼‰
  escapeRateIncrement: number;      // é€ƒèµ°è©¦è¡Œæ¯ã®æˆåŠŸç‡ä¸Šæ˜‡ï¼ˆ0.1 = +10%ï¼‰
  preemptiveStrikeThreshold: number; // å…ˆåˆ¶æ”»æ’ƒã®ç´ æ—©ã•å·®é–¾å€¤
  speedVariance: number;            // è¡Œå‹•é †ã®ãƒ©ãƒ³ãƒ€ãƒ å¹…
}

/**
 * æˆé•·è¨­å®š
 */
interface GrowthConfig {
  expCurve: ExpCurveType;           // çµŒé¨“å€¤æ›²ç·šã‚¿ã‚¤ãƒ—
  baseExpRequired: number;          // åŸºæœ¬å¿…è¦çµŒé¨“å€¤ï¼ˆ100ï¼‰
  expGrowthRate: number;            // çµŒé¨“å€¤æˆé•·ç‡ï¼ˆ1.2ï¼‰
  statGrowthRates: StatGrowthRates; // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æˆé•·ç‡
  maxLevel: number;                 // æœ€å¤§ãƒ¬ãƒ™ãƒ«ï¼ˆ99ï¼‰
}

/**
 * çµŒé¨“å€¤æ›²ç·šã‚¿ã‚¤ãƒ—
 */
type ExpCurveType = 
  | 'linear'        // ç·šå½¢ï¼ˆãƒ¬ãƒ™ãƒ« Ã— åŸºæœ¬å€¤ï¼‰
  | 'exponential'   // æŒ‡æ•°ï¼ˆåŸºæœ¬å€¤ Ã— ãƒ¬ãƒ™ãƒ« ^ æˆé•·ç‡ï¼‰
  | 'custom';       // ã‚«ã‚¹ã‚¿ãƒ 
```

### ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®å‹

```typescript
/**
 * ã‚²ãƒ¼ãƒ çŠ¶æ…‹
 * - ã‚²ãƒ¼ãƒ å…¨ä½“ã®é€²è¡ŒçŠ¶æ…‹ã‚’ç®¡ç†
 */
interface GameState {
  // åŸºæœ¬æƒ…å ±
  version: string;                  // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³
  saveDate: Timestamp;              // ä¿å­˜æ—¥æ™‚
  playTime: number;                 // ãƒ—ãƒ¬ã‚¤æ™‚é–“ï¼ˆç§’ï¼‰
  
  // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±
  player: {
    name: string;                   // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å
    playerId: string;               // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID
    money: number;                  // æ‰€æŒé‡‘
  };
  
  // ãƒ‘ãƒ¼ãƒ†ã‚£æƒ…å ±
  party: Character[];               // ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¡ãƒ³ãƒãƒ¼
  
  // ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª
  inventory: Inventory;             // ã‚¢ã‚¤ãƒ†ãƒ ç®¡ç†
  
  // ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é€²è¡Œ
  storyProgress: string;            // ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é€²è¡Œåº¦ID
  completedQuests: UniqueId[];      // å®Œäº†ã‚¯ã‚¨ã‚¹ãƒˆ
  achievements: UniqueId[];         // å–å¾—æ¸ˆã¿å®Ÿç¸¾
  flags: Record<string, boolean>;   // ã‚²ãƒ¼ãƒ ãƒ•ãƒ©ã‚°
  
  // ãƒ¬ã‚·ãƒ”è§£æ”¾çŠ¶æ…‹
  unlockedRecipes: Set<UniqueId>;   // è§£æ”¾æ¸ˆã¿ãƒ¬ã‚·ãƒ”ID
  recipeUnlockStates: Map<UniqueId, RecipeUnlockState>; // è©³ç´°ãªè§£æ”¾çŠ¶æ…‹
  craftHistory: Map<UniqueId, number>; // ã‚¢ã‚¤ãƒ†ãƒ ä½œæˆå›æ•°
  
  // ãƒ‘ãƒ¼ãƒ†ã‚£ç·¨æˆ
  savedFormations: Map<string, PartyFormation>; // ä¿å­˜æ¸ˆã¿ãƒ‘ãƒ¼ãƒ†ã‚£ç·¨æˆ
  activeFormationId?: string;       // ç¾åœ¨ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç·¨æˆID
  
  // ãã®ä»–æ‹¡å¼µå¯èƒ½ãªãƒ‡ãƒ¼ã‚¿
  customData?: Record<string, any>; // ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿
}
```

---

## é–¢æ•°è¨­è¨ˆ

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

Core Engineã¯é–¢å¿ƒäº‹ã”ã¨ã«é©åº¦ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸæ§‹é€ ã‚’æŒã¡ã¾ã™ï¼š

```text
CoreEngine/
â”œâ”€â”€ combat/           # æˆ¦é—˜é–¢é€£ã®è¨ˆç®—
â”‚   â”œâ”€â”€ damage.ts     # ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
â”‚   â”œâ”€â”€ accuracy.ts   # å‘½ä¸­ãƒ»ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«åˆ¤å®š
â”‚   â”œâ”€â”€ turnOrder.ts  # è¡Œå‹•é †è¨ˆç®—
â”‚   â””â”€â”€ victory.ts    # å‹æ•—åˆ¤å®š
â”œâ”€â”€ character/        # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£
â”‚   â”œâ”€â”€ stats.ts      # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
â”‚   â”œâ”€â”€ growth.ts     # æˆé•·ãƒ»ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ job.ts        # ã‚¸ãƒ§ãƒ–ãƒ»ã‚¯ãƒ©ã‚¹
â”‚   â””â”€â”€ skill.ts      # ã‚¹ã‚­ãƒ«ç¿’å¾—
â”œâ”€â”€ item/             # ã‚¢ã‚¤ãƒ†ãƒ é–¢é€£
â”‚   â”œâ”€â”€ effects.ts    # ã‚¢ã‚¤ãƒ†ãƒ åŠ¹æœ
â”‚   â”œâ”€â”€ equipment.ts  # è£…å‚™åˆ¤å®š
â”‚   â””â”€â”€ inventory.ts  # ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç®¡ç†
â”œâ”€â”€ status/           # çŠ¶æ…‹ç•°å¸¸ãƒ»ãƒãƒ•é–¢é€£
â”‚   â”œâ”€â”€ effects.ts    # çŠ¶æ…‹ç•°å¸¸ã®è¨ˆç®—
â”‚   â””â”€â”€ duration.ts   # æŒç¶šæ™‚é–“ç®¡ç†
â”œâ”€â”€ enemy/            # æ•µé–¢é€£
â”‚   â”œâ”€â”€ stats.ts      # æ•µã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
â”‚   â”œâ”€â”€ drops.ts      # ãƒ‰ãƒ­ãƒƒãƒ—åˆ¤å®š
â”‚   â””â”€â”€ ai.ts         # AIåˆ¤æ–­è£œåŠ©
â”œâ”€â”€ craft/            # ã‚¯ãƒ©ãƒ•ãƒˆé–¢é€£
â”‚   â”œâ”€â”€ synthesis.ts  # åˆæˆè¨ˆç®—
â”‚   â””â”€â”€ enhance.ts    # å¼·åŒ–è¨ˆç®—
â””â”€â”€ config/           # è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
    â”œâ”€â”€ formulas.ts   # è¨ˆç®—å¼ã®å®šç¾©
    â””â”€â”€ parameters.ts # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
```

### ä¸»è¦ãªé–¢æ•°

#### combat/damage.ts

```typescript
/**
 * ç‰©ç†æ”»æ’ƒã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
 */
function calculatePhysicalDamage(
  attacker: Combatant,
  target: Combatant,
  skill: Skill,
  config: GameConfig
): DamageResult;

/**
 * é­”æ³•æ”»æ’ƒã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
 */
function calculateMagicDamage(
  attacker: Combatant,
  target: Combatant,
  skill: Skill,
  config: GameConfig
): DamageResult;

/**
 * å›å¾©é‡ã®è¨ˆç®—
 */
function calculateHealAmount(
  caster: Combatant,
  target: Combatant,
  skill: Skill,
  config: GameConfig
): number;

/**
 * å±æ€§ç›¸æ€§ã®å€ç‡è¨ˆç®—
 */
function calculateElementalModifier(
  attackElement: Element,
  targetResistance: ElementResistance
): number;
```

#### combat/accuracy.ts

```typescript
/**
 * å‘½ä¸­ç‡ã®è¨ˆç®—
 */
function calculateHitRate(
  attacker: Combatant,
  target: Combatant,
  skill: Skill
): number;

/**
 * å‘½ä¸­åˆ¤å®š
 */
function checkHit(hitRate: number): boolean;

/**
 * ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç‡ã®è¨ˆç®—
 */
function calculateCriticalRate(
  attacker: Combatant,
  skill: Skill,
  config: GameConfig
): number;

/**
 * ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«åˆ¤å®š
 */
function checkCritical(criticalRate: number): boolean;
```

#### combat/turnOrder.ts

```typescript
/**
 * è¡Œå‹•é †ã®è¨ˆç®—
 */
function calculateTurnOrder(
  participants: Combatant[],
  config: GameConfig
): Combatant[];

/**
 * å…ˆåˆ¶æ”»æ’ƒã®åˆ¤å®š
 */
function checkPreemptiveStrike(
  party: Character[],
  enemies: Enemy[],
  config: GameConfig
): boolean;
```

#### character/stats.ts

```typescript
/**
 * æœ€çµ‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®è¨ˆç®—
 */
function calculateFinalStats(
  character: Character,
  equipment: Equipment[],
  statusEffects: StatusEffect[],
  job: Job
): Stats;

/**
 * åŸºç¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å–å¾—
 */
function getBaseStats(
  character: Character,
  level: number
): Stats;

/**
 * è£…å‚™ã«ã‚ˆã‚‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£
 */
function applyEquipmentBonus(
  baseStats: Stats,
  equipment: Equipment[]
): Stats;
```

#### character/growth.ts

```typescript
/**
 * æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã«å¿…è¦ãªçµŒé¨“å€¤ã®è¨ˆç®—
 */
function calculateExpRequired(
  level: number,
  config: GameConfig
): number;

/**
 * ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—åˆ¤å®š
 */
function checkLevelUp(
  currentExp: number,
  currentLevel: number,
  config: GameConfig
): LevelUpResult;

/**
 * ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—æ™‚ã®èƒ½åŠ›å€¤ä¸Šæ˜‡ã®è¨ˆç®—
 */
function calculateStatGrowth(
  character: Character,
  fromLevel: number,
  toLevel: number,
  job: Job,
  config: GameConfig
): Stats;

/**
 * ãƒ‘ãƒ¼ãƒ†ã‚£ã¸ã®çµŒé¨“å€¤é…åˆ†
 */
function distributeExpToParty(
  totalExp: number,
  party: Character[],
  config: GameConfig
): Map<string, number>;
```

---

## æ‹¡å¼µæ€§

Core Engineã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ‹¡å¼µãƒã‚¤ãƒ³ãƒˆã‚’æä¾›ã—ã¾ã™ï¼š

### 1. è¨ˆç®—å¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

**å®Ÿè£…æ–¹æ³•**: Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³ã¾ãŸã¯é–¢æ•°æ³¨å…¥ã«ã‚ˆã‚‹è¨ˆç®—å¼ã®å·®ã—æ›¿ãˆ

```typescript
// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—å¼
type DamageFormula = (attacker: Combatant, target: Combatant, skill: Skill) => number;

// è¨ˆç®—å¼ã®ä¾‹1: ã‚·ãƒ³ãƒ—ãƒ«ãªå¼•ãç®—å¼
const simpleDamageFormula: DamageFormula = (attacker, target, skill) => {
  const attack = attacker.stats.attack * skill.power;
  const defense = target.stats.defense;
  return Math.max(1, attack - defense);
};

// è¨ˆç®—å¼ã®ä¾‹2: è¤‡é›‘ãªä¹—ç®—å¼ï¼ˆãƒ•ã‚¡ã‚¤ãƒŠãƒ«ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼é¢¨ï¼‰
const complexDamageFormula: DamageFormula = (attacker, target, skill) => {
  const attack = attacker.stats.attack;
  const defense = Math.max(1, target.stats.defense); // 0é™¤ç®—é˜²æ­¢
  const power = skill.power;
  return Math.floor((attack * attack) / defense * power / 16);
};

// Core Engineã«è¨ˆç®—å¼ã‚’æ³¨å…¥
class CoreEngine {
  constructor(private damageFormula: DamageFormula = simpleDamageFormula) {}
  
  calculateDamage(attacker: Combatant, target: Combatant, skill: Skill): number {
    const baseDamage = this.damageFormula(attacker, target, skill);
    const critical = this.checkCritical(attacker) ? 2.0 : 1.0;
    const elementBonus = this.getElementBonus(skill.element, target.resistance);
    return Math.floor(baseDamage * critical * elementBonus);
  }
}

// ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹
const myCustomFormula: DamageFormula = (attacker, target, skill) => {
  // ç‹¬è‡ªã®ãƒ­ã‚¸ãƒƒã‚¯
  return attacker.level * skill.power - target.defense / 2;
};

const engine = new CoreEngine(myCustomFormula);
```

### 2. ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ 

**å®Ÿè£…æ–¹æ³•**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¾ãŸã¯æ‹¡å¼µã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```typescript
// åŸºæœ¬ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
interface CombatRule {
  name: string;
  apply(context: CombatContext): void;
}

// ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®ä¾‹: é€£æ’ƒã‚·ã‚¹ãƒ†ãƒ 
class ComboAttackRule implements CombatRule {
  name = "combo-attack";
  
  apply(context: CombatContext): void {
    // ã‚³ãƒ³ãƒœçŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å¢—å¹…
    if (context.attacker?.hasStatus?.("combo-ready")) {
      context.damageMultiplier *= 1.5;
      context.addEffect("combo-hit");
    }
  }
}

// ãƒ«ãƒ¼ãƒ«ã‚’ç™»éŒ²
class CoreEngine {
  private rules: CombatRule[] = [];
  
  addRule(rule: CombatRule): void {
    this.rules.push(rule);
  }
  
  calculateDamage(attacker: Combatant, target: Combatant, skill: Skill): number {
    const context = new CombatContext(attacker, target, skill);
    
    // ã™ã¹ã¦ã®ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨
    for (const rule of this.rules) {
      rule.apply(context);
    }
    
    return context.getFinalDamage();
  }
}

// ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹
const engine = new CoreEngine();
engine.addRule(new ComboAttackRule());
engine.addRule(new WeatherEffectRule());
engine.addRule(new TeamworkBonusRule());
```

### 3. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´

**å®Ÿè£…æ–¹æ³•**: è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤–éƒ¨åŒ–

```typescript
// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å®šç¾©
interface GameParameters {
  // æˆé•·é–¢é€£
  expCurve: "linear" | "exponential" | "custom";
  baseExpRequired: number;
  expGrowthRate: number;
  statGrowthRates: {
    hp: number;
    mp: number;
    attack: number;
    defense: number;
  };
  
  // æˆ¦é—˜é–¢é€£
  criticalRate: number;
  criticalMultiplier: number;
  damageVariance: number;  // ãƒ€ãƒ¡ãƒ¼ã‚¸ã®ãƒ©ãƒ³ãƒ€ãƒ å¹…
  
  // ãƒãƒ©ãƒ³ã‚¹èª¿æ•´
  levelCapacity: number;
  maxPartySize: number;
  dropRateModifier: number;
}

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
const defaultParameters: GameParameters = {
  expCurve: "exponential",
  baseExpRequired: 100,
  expGrowthRate: 1.2,
  statGrowthRates: {
    hp: 10,
    mp: 5,
    attack: 3,
    defense: 2,
  },
  criticalRate: 0.05,
  criticalMultiplier: 2.0,
  damageVariance: 0.1,
  levelCapacity: 99,
  maxPartySize: 4,
  dropRateModifier: 1.0,
};

// Core Engineã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
class CoreEngine {
  constructor(private params: GameParameters = defaultParameters) {}
  
  calculateExpRequired(level: number): number {
    const clampedLevel = Math.min(level, this.params.levelCapacity);
    
    if (this.params.expCurve === "linear") {
      return this.params.baseExpRequired * clampedLevel;
    } else if (this.params.expCurve === "exponential") {
      const exp = this.params.baseExpRequired * Math.pow(clampedLevel, this.params.expGrowthRate);
      return Math.floor(Math.min(exp, Number.MAX_SAFE_INTEGER / 2));
    }
    // custom curve implementation
    return this.calculateExpRequired(level);
  }
  
  checkCritical(attacker: Character): boolean {
    const rate = this.params.criticalRate + attacker.stats.luck * 0.001;
    return Math.random() < rate;
  }
}

// ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹
const hardcoreParams: GameParameters = {
  ...defaultParameters,
  expGrowthRate: 1.5,  // ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãŒé›£ã—ã„
  criticalRate: 0.02,   // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãŒå‡ºã«ãã„
  dropRateModifier: 0.5, // ãƒ‰ãƒ­ãƒƒãƒ—ç‡ãŒä½ã„
};

const engine = new CoreEngine(hardcoreParams);
```

### 4. å®Œå…¨ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

ã™ã¹ã¦ã®æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ãŸä¾‹ï¼š

```typescript
// ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã§Core Engineã‚’åˆæœŸåŒ–
const customEngine = new CoreEngine(customDamageFormula);

// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®š
customEngine.setParameters(myGameParameters);

// ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ 
customEngine.addRule(new WeaknessSystemRule());
customEngine.addRule(new CounterAttackRule());
customEngine.addRule(new LimitBreakRule());

// ä½¿ç”¨
const damage = customEngine.calculateDamage(player, enemy, skill);
```

---

## Service ã¨ã®é–¢ä¿‚

### åˆ†é›¢ã®åŸå‰‡

| è²¬ä»» | Service | Core Engine |
|------|---------|-------------|
| ã„ã¤ | âœ“ | |
| ä½•ã‚’ | âœ“ | |
| ã©ã®é †ã§ | âœ“ | |
| ã©ã®ã‚ˆã†ã«è¨ˆç®—ã™ã‚‹ã‹ | | âœ“ |
| ã©ã‚“ãªçµæœã«ãªã‚‹ã‹ | | âœ“ |

### å‘¼ã³å‡ºã—ã®æµã‚Œ

```text
1. Service ãŒæ“ä½œãƒ•ãƒ­ãƒ¼ã‚’ç®¡ç†
   â†“
2. å¿…è¦ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ Core Engine ã‚’å‘¼ã³å‡ºã—
   â†“
3. Core Engine ãŒè¨ˆç®—ãƒ»åˆ¤å®šã‚’å®Ÿè¡Œ
   â†“
4. çµæœã‚’ Service ãŒå—ã‘å–ã‚Š
   â†“
5. Service ãŒæ¬¡ã®çŠ¶æ…‹ã¸é·ç§»
```

### å…·ä½“ä¾‹ï¼šæˆ¦é—˜ã§ã®ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†

```text
ã€Service ã®è²¬ä»»ã€‘
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ”»æ’ƒã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠ
- å¯¾è±¡ã®æ•µã‚’é¸æŠ
- ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç®¡ç†
- çµæœã‚’UIã«é€šçŸ¥

ã€Core Engine ã®è²¬ä»»ã€‘
- æ”»æ’ƒåŠ›ã¨é˜²å¾¡åŠ›ã‹ã‚‰ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è¨ˆç®—
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«åˆ¤å®š
- å±æ€§ç›¸æ€§ã®è£œæ­£
- æœ€çµ‚ãƒ€ãƒ¡ãƒ¼ã‚¸å€¤ã®ç®—å‡º
```

---

## ã¾ã¨ã‚

Core Engineã¯ã€GEasy-Kitãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãŠã‘ã‚‹**è¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«ã®ä¸­æ ¸**ã‚’æ‹…ã†å±¤ã§ã™ã€‚

### æ ¸å¿ƒçš„ãªå½¹å‰²

1. **ç´”ç²‹ãªè¨ˆç®—**: æ•°å€¤è¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«åˆ¤å®šã«ç‰¹åŒ–
2. **UIãƒ•ãƒªãƒ¼**: è¡¨ç¤ºã‚„æ“ä½œãƒ•ãƒ­ãƒ¼ã‹ã‚‰å®Œå…¨ã«ç‹¬ç«‹
3. **æ±ºå®šè«–çš„**: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“
4. **æ‹¡å¼µå¯èƒ½**: ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã«å¯¾å¿œ

### åˆ©ç”¨ã®ãƒ¡ãƒªãƒƒãƒˆ

- **é–‹ç™ºåŠ¹ç‡**: è¤‡é›‘ãªè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’å†åˆ©ç”¨å¯èƒ½
- **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§**: å˜ä½“ãƒ†ã‚¹ãƒˆã§å“è³ªã‚’æ‹…ä¿
- **ãƒãƒ©ãƒ³ã‚¹èª¿æ•´**: è¨ˆç®—å¼ã‚’ä¸€ç®‡æ‰€ã§ç®¡ç†ãƒ»èª¿æ•´
- **ç§»æ¤æ€§**: ç•°ãªã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã‚‚åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ©ç”¨

Core Engineã‚’é©åˆ‡ã«è¨­è¨ˆã™ã‚‹ã“ã¨ã§ã€JRPGã®ã‚²ãƒ¼ãƒ ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹ã‚’å …ç‰¢ã‹ã¤ä¿å®ˆæ€§ã®é«˜ã„å½¢ã§å®Ÿè£…ã§ãã¾ã™ã€‚
