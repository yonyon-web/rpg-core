# Core Engine

rpg-coreãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãŠã‘ã‚‹Core Engineã®å½¹å‰²ã¨è²¬ä»»ç¯„å›²ã‚’ã¾ã¨ã‚ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## Core Engine ã¨ã¯

Core Engineã¯ã€JRPGã«ãŠã‘ã‚‹**æ•°å€¤è¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«åˆ¤å®š**ã‚’æ‹…å½“ã™ã‚‹å±¤ã§ã™ã€‚

### å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ãŠã‘ã‚‹ä½ç½®ã¥ã‘

```text
UIï¼ˆè¦‹ãŸç›®ãƒ»å…¥åŠ›ï¼‰
  â†“
Headless UIï¼ˆé¸æŠãƒ»ç¢ºèªãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
  â†“
JRPG Servicesï¼ˆæ“ä½œãƒ•ãƒ­ãƒ¼ï¼‰
  â†“
Core Engineï¼ˆæ•°å€¤ãƒ»ãƒ«ãƒ¼ãƒ«ï¼‰â† â˜… ã“ã®å±¤
  â†“
Game Stateï¼ˆæ°¸ç¶šå¯èƒ½ãªçŠ¶æ…‹ï¼‰
```

### è¨­è¨ˆæ€æƒ³

Core Engineã¯ä»¥ä¸‹ã®åŸå‰‡ã«å¾“ã£ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ï¼š

- **ç´”ç²‹ãªè¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«**: UIã‚„æ“ä½œãƒ•ãƒ­ãƒ¼ã«ä¾å­˜ã—ãªã„
- **çŠ¶æ…‹ã‚’æŒãŸãªã„**: Game Stateã‹ã‚‰å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€è¨ˆç®—çµæœã‚’è¿”ã™
- **æ±ºå®šè«–çš„**: åŒã˜å…¥åŠ›ã«å¯¾ã—ã¦å¸¸ã«åŒã˜å‡ºåŠ›ã‚’è¿”ã™
- **ãƒ†ã‚¹ãƒˆå®¹æ˜“**: ãƒ¢ãƒƒã‚¯ã‚„å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ã«æ›¸ã‘ã‚‹
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã«å¯¾å¿œã§ãã‚‹æ‹¡å¼µæ€§

## Core Engine ã®è²¬ä»»ç¯„å›²

### âœ… Core Engine ãŒæ‰±ã†ã‚‚ã®

- **æ•°å€¤è¨ˆç®—**: ãƒ€ãƒ¡ãƒ¼ã‚¸ã€å›å¾©é‡ã€æˆé•·å€¤ãªã©
- **ç¢ºç‡åˆ¤å®š**: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã€çŠ¶æ…‹ç•°å¸¸ä»˜ä¸ã€ãƒ‰ãƒ­ãƒƒãƒ—ãªã©
- **æ¡ä»¶åˆ¤å®š**: è£…å‚™å¯å¦ã€ã‚¹ã‚­ãƒ«ä½¿ç”¨å¯å¦ã€å‹æ•—åˆ¤å®šãªã©
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—**: åŸºç¤å€¤ + è£…å‚™è£œæ­£ + ãƒãƒ•/ãƒ‡ãƒãƒ•
- **ãƒ«ãƒ¼ãƒ«å‡¦ç†**: ã‚²ãƒ¼ãƒ ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹ã®å…·ä½“çš„ãªè¨ˆç®—å¼

### âŒ Core Engine ãŒæ‰±ã‚ãªã„ã‚‚ã®

- **æ“ä½œãƒ•ãƒ­ãƒ¼**: ã‚³ãƒãƒ³ãƒ‰é¸æŠã®æµã‚Œï¼ˆâ†’ Service ã®è²¬ä»»ï¼‰
- **çŠ¶æ…‹ç®¡ç†**: ã‚¿ãƒ¼ãƒ³é€²è¡Œã€ãƒ•ã‚§ãƒ¼ã‚ºç®¡ç†ï¼ˆâ†’ Service ã®è²¬ä»»ï¼‰
- **UIè¡¨ç¾**: è¡¨ç¤ºã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆâ†’ UIå±¤ã®è²¬ä»»ï¼‰
- **æ°¸ç¶šåŒ–**: ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰å‡¦ç†ï¼ˆâ†’ Save Service ã®è²¬ä»»ï¼‰

---

## æ©Ÿèƒ½åˆ¥è©³ç´°

### ğŸ® æˆ¦é—˜ã«é–¢ã™ã‚‹è¨ˆç®—

#### è¡Œå‹•é †ã®è¨ˆç®—
- ç´ æ—©ã•ã«åŸºã¥ãè¡Œå‹•é †ã®æ±ºå®š
- å…ˆåˆ¶æ”»æ’ƒãƒ»ä¸æ„æ‰“ã¡ã®åˆ¤å®š
- è¡Œå‹•é †è£œæ­£ã®é©ç”¨

#### ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
- ç‰©ç†æ”»æ’ƒã®ãƒ€ãƒ¡ãƒ¼ã‚¸
  - æ”»æ’ƒåŠ› - é˜²å¾¡åŠ›ã‚’åŸºæº–ã¨ã—ãŸè¨ˆç®—
  - æ­¦å™¨ã®æ”»æ’ƒåŠ›è£œæ­£
  - ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ’ãƒƒãƒˆåˆ¤å®šã¨å€ç‡
  - å±æ€§ç›¸æ€§ã«ã‚ˆã‚‹è£œæ­£
  - ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ã®ä»˜ä¸
- é­”æ³•æ”»æ’ƒã®ãƒ€ãƒ¡ãƒ¼ã‚¸
  - é­”åŠ›ãƒ™ãƒ¼ã‚¹ã®è¨ˆç®—
  - é­”æ³•é˜²å¾¡ã«ã‚ˆã‚‹è»½æ¸›
  - å±æ€§ç›¸æ€§ã«ã‚ˆã‚‹è£œæ­£
- ã‚¹ã‚­ãƒ«ã®ãƒ€ãƒ¡ãƒ¼ã‚¸
  - ã‚¹ã‚­ãƒ«å›ºæœ‰ã®å€ç‡
  - ã‚³ã‚¹ãƒˆï¼ˆMPã€SPãªã©ï¼‰ã®è¨ˆç®—

#### å›å¾©é‡ã®è¨ˆç®—
- å›å¾©ã‚¹ã‚­ãƒ«ã®åŠ¹æœé‡
  - å›ºå®šå€¤å›å¾©
  - å‰²åˆå›å¾©
  - æœ€å¤§HPã«åŸºã¥ãå›å¾©
- ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚ˆã‚‹å›å¾©
- ç¶™ç¶šå›å¾©ã®è¨ˆç®—

#### å‘½ä¸­ãƒ»å›é¿ã®åˆ¤å®š
- å‘½ä¸­ç‡ã®è¨ˆç®—
- å›é¿ç‡ã®è¨ˆç®—
- å¿…ä¸­ã‚¹ã‚­ãƒ«ã®å‡¦ç†

#### å‹åˆ©æ¡ä»¶ãƒ»æ•—åŒ—æ¡ä»¶ã®åˆ¤å®š
- å…¨æ»…åˆ¤å®š
- é€ƒèµ°æˆåŠŸç‡ã®è¨ˆç®—
- ç‰¹æ®Šå‹åˆ©æ¡ä»¶ã®åˆ¤å®š

---

### ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã«é–¢ã™ã‚‹è¨ˆç®—

#### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£ã®è¨ˆç®—
- åŸºç¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å–å¾—
- è£…å‚™ã«ã‚ˆã‚‹è£œæ­£
- ãƒãƒ•/ãƒ‡ãƒãƒ•ã«ã‚ˆã‚‹è£œæ­£
- ã‚¸ãƒ§ãƒ–ãƒ»ã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹è£œæ­£
- ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹è£œæ­£
- æœ€çµ‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç®—å‡º

#### ãƒ¬ãƒ™ãƒ«ã¨æˆé•·ã«é–¢ã™ã‚‹è¨ˆç®—
- çµŒé¨“å€¤ã®è¨ˆç®—
  - æˆ¦é—˜å ±é…¬ã®çµŒé¨“å€¤
  - ãƒ‘ãƒ¼ãƒ†ã‚£ã¸ã®é…åˆ†
  - çµŒé¨“å€¤ãƒœãƒ¼ãƒŠã‚¹ã®é©ç”¨
- ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—åˆ¤å®š
  - å¿…è¦çµŒé¨“å€¤ã®è¨ˆç®—
  - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å¯å¦ã®åˆ¤å®š
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æˆé•·ã®è¨ˆç®—
  - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—æ™‚ã®èƒ½åŠ›å€¤ä¸Šæ˜‡
  - æˆé•·ç‡ã«ã‚ˆã‚‹å¤‰å‹•
  - ã‚¸ãƒ§ãƒ–åˆ¥æˆé•·è£œæ­£

#### ã‚¹ã‚­ãƒ«ç¿’å¾—ã«é–¢ã™ã‚‹åˆ¤å®š
- ç¿’å¾—æ¡ä»¶ã®åˆ¤å®š
  - ãƒ¬ãƒ™ãƒ«è¦ä»¶
  - ã‚¸ãƒ§ãƒ–è¦ä»¶
  - å‰æã‚¹ã‚­ãƒ«è¦ä»¶
- ã‚¹ã‚­ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†
  - ã‚¹ã‚­ãƒ«ã®åŠ¹æœ
  - ä½¿ç”¨ã‚³ã‚¹ãƒˆ
  - å¯¾è±¡ç¯„å›²

#### è·æ¥­ãƒ»ã‚¯ãƒ©ã‚¹ã«é–¢ã™ã‚‹è¨ˆç®—
- è»¢è·æ¡ä»¶ã®åˆ¤å®š
  - ãƒ¬ãƒ™ãƒ«è¦ä»¶
  - ã‚¢ã‚¤ãƒ†ãƒ è¦ä»¶
  - ã‚¯ã‚¨ã‚¹ãƒˆå®Œäº†è¦ä»¶
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£ã®è¨ˆç®—
  - ã‚¸ãƒ§ãƒ–ãƒœãƒ¼ãƒŠã‚¹
  - è£…å‚™å¯èƒ½æ­¦å™¨ãƒ»é˜²å…·ã®åˆ¤å®š
- è£…å‚™å¯å¦ã®åˆ¤å®š
  - ã‚¸ãƒ§ãƒ–åˆ¶é™ã®ãƒã‚§ãƒƒã‚¯

---

### ğŸ’ è£…å‚™ãƒ»ã‚¢ã‚¤ãƒ†ãƒ ã«é–¢ã™ã‚‹è¨ˆç®—

#### è£…å‚™ã«é–¢ã™ã‚‹åˆ¤å®šã¨è¨ˆç®—
- è£…å‚™å¯èƒ½æ¡ä»¶ã®åˆ¤å®š
  - ãƒ¬ãƒ™ãƒ«åˆ¶é™
  - ã‚¸ãƒ§ãƒ–åˆ¶é™
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¦ä»¶
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è£œæ­£ã®è¨ˆç®—
  - æ”»æ’ƒåŠ›ãƒ»é˜²å¾¡åŠ›ã®è£œæ­£
  - å±æ€§è€æ€§ã®ä»˜ä¸
  - ç‰¹æ®ŠåŠ¹æœã®é©ç”¨
- è£…å‚™åŠ¹æœã®é©ç”¨
  - ã‚»ãƒƒãƒˆåŠ¹æœ
  - ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆåŠ¹æœ

#### ã‚¢ã‚¤ãƒ†ãƒ ã«é–¢ã™ã‚‹è¨ˆç®—
- ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœè¨ˆç®—
  - å›å¾©ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœé‡
  - ãƒãƒ•ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœ
  - æˆ¦é—˜ã‚¢ã‚¤ãƒ†ãƒ ã®åŠ¹æœ
- ä½¿ç”¨å¯èƒ½æ¡ä»¶ã®åˆ¤å®š
  - æˆ¦é—˜ä¸­/ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã®ä½¿ç”¨å¯å¦
  - å¯¾è±¡æ¡ä»¶ã®åˆ¤å®š
- ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã®æ›´æ–°
  - ã‚¢ã‚¤ãƒ†ãƒ æ•°ã®å¢—æ¸›
  - æ‰€æŒä¸Šé™ã®ãƒã‚§ãƒƒã‚¯

---

### ğŸ§  æ•µã¨AIã«é–¢ã™ã‚‹è¨ˆç®—

#### æ•µã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
- æ•µã®åˆæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨­å®š
  - ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸèƒ½åŠ›å€¤
  - æ•µç¨®åˆ¥ã«ã‚ˆã‚‹è£œæ­£
- ä½¿ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã®åˆ—æŒ™
  - ã‚¹ã‚­ãƒ«ã®ä½¿ç”¨æ¡ä»¶ãƒã‚§ãƒƒã‚¯
  - MP/SPã‚³ã‚¹ãƒˆã®ç¢ºèª

#### ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒªãƒ¯ãƒ¼ãƒ‰ã®è¨ˆç®—
- ãƒ‰ãƒ­ãƒƒãƒ—åˆ¤å®šã®è¨ˆç®—
  - ã‚¢ã‚¤ãƒ†ãƒ ãƒ‰ãƒ­ãƒƒãƒ—ç‡
  - ãƒ¬ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—åˆ¤å®š
  - ãƒ‰ãƒ­ãƒƒãƒ—å€‹æ•°ã®æ±ºå®š
- å¯¾è±¡å€™è£œã®è©•ä¾¡
  - AIç”¨ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸å®š
  - è„…å¨åº¦ã®è¨ˆç®—
  - å„ªå…ˆåº¦ã®ç®—å‡º

---

### ğŸ’« çŠ¶æ…‹ç•°å¸¸ãƒ»ãƒãƒ•ãƒ»ãƒ‡ãƒãƒ•ã«é–¢ã™ã‚‹è¨ˆç®—

#### çŠ¶æ…‹ç•°å¸¸ã®ä»˜ä¸åˆ¤å®š
- çŠ¶æ…‹ç•°å¸¸ã®ä»˜ä¸åˆ¤å®š
  - åŸºæœ¬æˆåŠŸç‡
  - è€æ€§ã«ã‚ˆã‚‹è»½æ¸›
  - ç¢ºç‡è¨ˆç®—
- åŠ¹æœã®è¨ˆç®—
  - æ¯’ãƒ€ãƒ¡ãƒ¼ã‚¸ãªã©ã®ç¶™ç¶šãƒ€ãƒ¡ãƒ¼ã‚¸
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰å‹•ã®è¨ˆç®—
  - è¡Œå‹•åˆ¶é™ã®åˆ¤å®š
- è§£é™¤æ¡ä»¶ã®åˆ¤å®š
  - ã‚¿ãƒ¼ãƒ³çµŒéã«ã‚ˆã‚‹è‡ªç„¶è§£é™¤
  - ã‚¢ã‚¤ãƒ†ãƒ ãƒ»ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚‹è§£é™¤
  - ç‰¹å®šæ¡ä»¶ã§ã®è‡ªå‹•è§£é™¤

#### ãƒãƒ•ãƒ»ãƒ‡ãƒãƒ•ã®è¨ˆç®—
- åŠ¹æœé‡ã®è¨ˆç®—
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸Šæ˜‡/ä¸‹é™ã®å€ç‡
  - é‡è¤‡æ™‚ã®å‡¦ç†
  - ã‚¹ã‚¿ãƒƒã‚¯ä¸Šé™
- æŒç¶šæ™‚é–“ã®ç®¡ç†
  - æ®‹ã‚Šã‚¿ãƒ¼ãƒ³æ•°ã®è¨ˆç®—
  - åŠ¹æœã®å»¶é•·ãƒ»çŸ­ç¸®

---

### ğŸ›  ã‚¯ãƒ©ãƒ•ãƒˆãƒ»å¼·åŒ–ã«é–¢ã™ã‚‹è¨ˆç®—

#### ã‚¢ã‚¤ãƒ†ãƒ åˆæˆ
- ç´ æã®æ‰€æŒãƒã‚§ãƒƒã‚¯
  - å¿…è¦ç´ æã®ç¢ºèª
  - ç´ æã®å€‹æ•°ãƒã‚§ãƒƒã‚¯
- æˆåŠŸç‡ã®è¨ˆç®—
  - åŸºæœ¬æˆåŠŸç‡
  - ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚‹è£œæ­£
  - ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚ˆã‚‹ãƒœãƒ¼ãƒŠã‚¹
- çµæœã‚¢ã‚¤ãƒ†ãƒ ã®ç”Ÿæˆ
  - é€šå¸¸æˆåŠŸæ™‚ã®ã‚¢ã‚¤ãƒ†ãƒ 
  - å¤§æˆåŠŸæ™‚ã®ãƒœãƒ¼ãƒŠã‚¹
  - å¤±æ•—æ™‚ã®ç´ æè¿”é‚„åˆ¤å®š
- ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã®æ›´æ–°
  - ç´ æã®æ¶ˆè²»
  - å®Œæˆå“ã®è¿½åŠ 

#### è£…å‚™ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¼·åŒ–
- æˆåŠŸç‡ã®è¨ˆç®—
  - å¼·åŒ–ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸæˆåŠŸç‡
  - å®‰å…¨åœã®åˆ¤å®š
  - å¤±æ•—æ™‚ã®ãƒšãƒŠãƒ«ãƒ†ã‚£åˆ¤å®š
- èƒ½åŠ›å€¤ä¸Šæ˜‡ã®è¨ˆç®—
  - å¼·åŒ–ã«ã‚ˆã‚‹ä¸Šæ˜‡å€¤
  - ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ 
  - ä¸Šé™å€¤ã®åˆ¤å®š
- ã‚³ã‚¹ãƒˆã®æ¶ˆè²»å‡¦ç†
  - å¼·åŒ–ç´ æã®æ¶ˆè²»
  - ãŠé‡‘ã®æ¶ˆè²»

---

### ğŸ’¾ æ°¸ç¶šåŒ–ã¨æ•´åˆæ€§

#### ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®æ°¸ç¶šåŒ–
- çŠ¶æ…‹ã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º
  - Game Stateã®æ°¸ç¶šåŒ–å½¢å¼ã¸ã®å¤‰æ›
  - ãƒ‡ãƒ¼ã‚¿ã®åœ§ç¸®
- ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®ç®¡ç†
  - äº’æ›æ€§ã®ãƒã‚§ãƒƒã‚¯
  - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†

---

### ğŸ¯ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨åˆ†æ

#### æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè¡Œ
- è‡ªå‹•æˆ¦é—˜ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- AIè¡Œå‹•ã®æ±ºå®š
- æˆ¦é—˜çµæœã®äºˆæ¸¬

#### ç¢ºç‡è¨ˆç®—
- å„ç¨®åˆ¤å®šã®ç¢ºç‡è¨ˆç®—
- æœŸå¾…å€¤ã®ç®—å‡º
- åˆ†æ•£ã®è¨ˆç®—

#### ãƒ€ãƒ¡ãƒ¼ã‚¸æœŸå¾…å€¤ã®è¨ˆç®—
- å¹³å‡ãƒ€ãƒ¡ãƒ¼ã‚¸ã®ç®—å‡º
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«è¾¼ã¿ã®æœŸå¾…å€¤
- æœ€å¤§/æœ€å°ãƒ€ãƒ¡ãƒ¼ã‚¸ã®è¨ˆç®—

---

## æŠ€è¡“çš„è€ƒæ…®äº‹é …

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ

Core Engineã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ˜ç¢ºãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ï¼š

```typescript
interface CoreEngine {
  // ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ã®ä¾‹
  calculateDamage(attacker: Character, target: Character, skill: Skill): DamageResult;
  
  // çŠ¶æ…‹ç•°å¸¸åˆ¤å®šã®ä¾‹
  applyStatusEffect(target: Character, effect: StatusEffect): boolean;
  
  // ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—åˆ¤å®šã®ä¾‹
  checkLevelUp(character: Character, gainedExp: number): LevelUpResult;
}
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

Core Engineã¯é–¢å¿ƒäº‹ã”ã¨ã«é©åº¦ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸæ§‹é€ ã‚’æŒã¡ã¾ã™ï¼š

```text
CoreEngine/
â”œâ”€â”€ combat/           # æˆ¦é—˜é–¢é€£ã®è¨ˆç®—
â”‚   â”œâ”€â”€ damage.ts     # ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
â”‚   â”œâ”€â”€ turnOrder.ts  # è¡Œå‹•é †è¨ˆç®—
â”‚   â””â”€â”€ victory.ts    # å‹æ•—åˆ¤å®š
â”œâ”€â”€ character/        # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£
â”‚   â”œâ”€â”€ stats.ts      # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
â”‚   â”œâ”€â”€ growth.ts     # æˆé•·ãƒ»ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—
â”‚   â””â”€â”€ job.ts        # ã‚¸ãƒ§ãƒ–ãƒ»ã‚¯ãƒ©ã‚¹
â”œâ”€â”€ item/             # ã‚¢ã‚¤ãƒ†ãƒ é–¢é€£
â”‚   â”œâ”€â”€ effects.ts    # ã‚¢ã‚¤ãƒ†ãƒ åŠ¹æœ
â”‚   â”œâ”€â”€ equipment.ts  # è£…å‚™åˆ¤å®š
â”‚   â””â”€â”€ inventory.ts  # ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç®¡ç†
â”œâ”€â”€ status/           # çŠ¶æ…‹ç•°å¸¸ãƒ»ãƒãƒ•é–¢é€£
â”‚   â”œâ”€â”€ effects.ts    # çŠ¶æ…‹ç•°å¸¸ã®è¨ˆç®—
â”‚   â””â”€â”€ duration.ts   # æŒç¶šæ™‚é–“ç®¡ç†
â”œâ”€â”€ enemy/            # æ•µé–¢é€£
â”‚   â”œâ”€â”€ stats.ts      # æ•µã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
â”‚   â””â”€â”€ drops.ts      # ãƒ‰ãƒ­ãƒƒãƒ—åˆ¤å®š
â”œâ”€â”€ craft/            # ã‚¯ãƒ©ãƒ•ãƒˆé–¢é€£
â”‚   â”œâ”€â”€ synthesis.ts  # åˆæˆè¨ˆç®—
â”‚   â””â”€â”€ enhance.ts    # å¼·åŒ–è¨ˆç®—
â””â”€â”€ config/           # è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
    â”œâ”€â”€ formulas.ts   # è¨ˆç®—å¼ã®å®šç¾©
    â””â”€â”€ parameters.ts # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
```

å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆãƒ»ä¿å®ˆãŒå¯èƒ½ã§ã€é–¢å¿ƒäº‹ãŒæ˜ç¢ºã«åˆ†é›¢ã•ã‚Œã¦ã„ã¾ã™ã€‚

### æ‹¡å¼µæ€§

ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã«å¯¾å¿œã™ã‚‹ãŸã‚ã€Core Engineã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ‹¡å¼µãƒã‚¤ãƒ³ãƒˆã‚’æä¾›ã—ã¾ã™ï¼š

#### 1. è¨ˆç®—å¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

**å®Ÿè£…æ–¹æ³•**: Strategy ãƒ‘ã‚¿ãƒ¼ãƒ³ã¾ãŸã¯é–¢æ•°æ³¨å…¥ã«ã‚ˆã‚‹è¨ˆç®—å¼ã®å·®ã—æ›¿ãˆ

```typescript
// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—å¼
type DamageFormula = (attacker: Character, target: Character, skill: Skill) => number;

// è¨ˆç®—å¼ã®ä¾‹1: ã‚·ãƒ³ãƒ—ãƒ«ãªå¼•ãç®—å¼
const simpleDamageFormula: DamageFormula = (attacker, target, skill) => {
  const attack = attacker.stats.attack * skill.power;
  const defense = target.stats.defense;
  return Math.max(1, attack - defense);
};

// è¨ˆç®—å¼ã®ä¾‹2: è¤‡é›‘ãªä¹—ç®—å¼ï¼ˆãƒ•ã‚¡ã‚¤ãƒŠãƒ«ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼é¢¨ï¼‰
const complexDamageFormula: DamageFormula = (attacker, target, skill) => {
  const attack = attacker.stats.attack;
  const defense = target.stats.defense;
  const power = skill.power;
  return Math.floor((attack * attack) / defense * power / 16);
};

// Core Engineã«è¨ˆç®—å¼ã‚’æ³¨å…¥
class CoreEngine {
  constructor(private damageFormula: DamageFormula = simpleDamageFormula) {}
  
  calculateDamage(attacker: Character, target: Character, skill: Skill): number {
    const baseDamage = this.damageFormula(attacker, target, skill);
    const critical = this.checkCritical(attacker) ? 2.0 : 1.0;
    const elementBonus = this.getElementBonus(skill.element, target.resistance);
    return Math.floor(baseDamage * critical * elementBonus);
  }
}
```

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```typescript
// ã‚²ãƒ¼ãƒ ç‹¬è‡ªã®è¨ˆç®—å¼ã‚’ä½¿ç”¨
const myCustomFormula: DamageFormula = (attacker, target, skill) => {
  // ç‹¬è‡ªã®ãƒ­ã‚¸ãƒƒã‚¯
  return attacker.level * skill.power - target.defense / 2;
};

const engine = new CoreEngine(myCustomFormula);
```

#### 2. ãƒ«ãƒ¼ãƒ«ã®è¿½åŠ 

**å®Ÿè£…æ–¹æ³•**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¾ãŸã¯æ‹¡å¼µã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```typescript
// åŸºæœ¬ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
interface CombatRule {
  name: string;
  apply(context: CombatContext): void;
}

// ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®ä¾‹: é€£æ’ƒã‚·ã‚¹ãƒ†ãƒ 
class ComboAttackRule implements CombatRule {
  name = "combo-attack";
  
  apply(context: CombatContext): void {
    if (context.attacker.hasStatus("combo-ready")) {
      context.damageMultiplier *= 1.5;
      context.addEffect("combo-hit");
    }
  }
}

// ãƒ«ãƒ¼ãƒ«ã‚’ç™»éŒ²
class CoreEngine {
  private rules: CombatRule[] = [];
  
  addRule(rule: CombatRule): void {
    this.rules.push(rule);
  }
  
  calculateDamage(attacker: Character, target: Character, skill: Skill): number {
    const context = new CombatContext(attacker, target, skill);
    
    // ã™ã¹ã¦ã®ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨
    for (const rule of this.rules) {
      rule.apply(context);
    }
    
    return context.getFinalDamage();
  }
}
```

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```typescript
const engine = new CoreEngine();
engine.addRule(new ComboAttackRule());
engine.addRule(new WeatherEffectRule());
engine.addRule(new TeamworkBonusRule());
```

#### 3. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´

**å®Ÿè£…æ–¹æ³•**: è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤–éƒ¨åŒ–

```typescript
// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å®šç¾©
interface GameParameters {
  // æˆé•·é–¢é€£
  expCurve: "linear" | "exponential" | "custom";
  baseExpRequired: number;
  expGrowthRate: number;
  statGrowthRates: {
    hp: number;
    mp: number;
    attack: number;
    defense: number;
  };
  
  // æˆ¦é—˜é–¢é€£
  criticalRate: number;
  criticalMultiplier: number;
  damageVariance: number;  // ãƒ€ãƒ¡ãƒ¼ã‚¸ã®ãƒ©ãƒ³ãƒ€ãƒ å¹…
  
  // ãƒãƒ©ãƒ³ã‚¹èª¿æ•´
  levelCapacity: number;
  maxPartySize: number;
  dropRateModifier: number;
}

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
const defaultParameters: GameParameters = {
  expCurve: "exponential",
  baseExpRequired: 100,
  expGrowthRate: 1.2,
  statGrowthRates: {
    hp: 10,
    mp: 5,
    attack: 3,
    defense: 2,
  },
  criticalRate: 0.05,
  criticalMultiplier: 2.0,
  damageVariance: 0.1,
  levelCapacity: 99,
  maxPartySize: 4,
  dropRateModifier: 1.0,
};

// Core Engineã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
class CoreEngine {
  constructor(private params: GameParameters = defaultParameters) {}
  
  calculateExpRequired(level: number): number {
    if (this.params.expCurve === "linear") {
      return this.params.baseExpRequired * level;
    } else if (this.params.expCurve === "exponential") {
      return Math.floor(this.params.baseExpRequired * Math.pow(level, this.params.expGrowthRate));
    }
    // custom curve implementation
    return 0;
  }
  
  checkCritical(attacker: Character): boolean {
    const rate = this.params.criticalRate + attacker.stats.luck * 0.001;
    return Math.random() < rate;
  }
  
  getCriticalMultiplier(): number {
    return this.params.criticalMultiplier;
  }
}
```

**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹**:
```typescript
// ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã«åˆã‚ã›ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´
const hardcoreParams: GameParameters = {
  ...defaultParameters,
  expGrowthRate: 1.5,  // ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãŒé›£ã—ã„
  criticalRate: 0.02,   // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãŒå‡ºã«ãã„
  dropRateModifier: 0.5, // ãƒ‰ãƒ­ãƒƒãƒ—ç‡ãŒä½ã„
};

const engine = new CoreEngine(hardcoreParams);
```

#### 4. å®Œå…¨ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

ã™ã¹ã¦ã®æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ãŸä¾‹ï¼š

```typescript
// ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã§Core Engineã‚’åˆæœŸåŒ–
const customEngine = new CoreEngine(customDamageFormula);

// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®š
customEngine.setParameters(myGameParameters);

// ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ 
customEngine.addRule(new WeaknessSystemRule());
customEngine.addRule(new CounterAttackRule());
customEngine.addRule(new LimitBreakRule());

// ä½¿ç”¨
const damage = customEngine.calculateDamage(player, enemy, skill);
```

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€Core Engineã®ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¤‰æ›´ã›ãšã«ã€ã‚²ãƒ¼ãƒ å›ºæœ‰ã®è¦ä»¶ã«æŸ”è»Ÿã«å¯¾å¿œã§ãã¾ã™ã€‚

### ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§

Core Engineã¯ä»¥ä¸‹ã®ç‰¹æ€§ã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ã§ã™ï¼š

- **ç´”ç²‹é–¢æ•°**: å‰¯ä½œç”¨ãŒãªãã€åŒã˜å…¥åŠ›ã«å¯¾ã—ã¦åŒã˜å‡ºåŠ›
- **ãƒ¢ãƒƒã‚¯ä¸è¦**: åŸºæœ¬çš„ãªè¨ˆç®—ã¯ãƒ¢ãƒƒã‚¯ãªã—ã§ãƒ†ã‚¹ãƒˆå¯èƒ½
- **ç‹¬ç«‹æ€§**: ä»–ã®å±¤ã«ä¾å­˜ã—ãªã„

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

Core Engineã¯ä»¥ä¸‹ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§ã‚’æŒã¡ã¾ã™ï¼š

- **è¨ˆç®—ã®è»½é‡æ€§**: è¤‡é›‘ãªè¨ˆç®—ã§ã‚‚é«˜é€Ÿã«å®Ÿè¡Œ
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯èƒ½**: è¨ˆç®—çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯èƒ½
- **ä¸¦åˆ—å‡¦ç†å¯¾å¿œ**: è¤‡æ•°ã®è¨ˆç®—ã‚’ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½

---

## Service ã¨ã®é–¢ä¿‚

### åˆ†é›¢ã®åŸå‰‡

| è²¬ä»» | Service | Core Engine |
|------|---------|-------------|
| ã„ã¤ | âœ“ | |
| ä½•ã‚’ | âœ“ | |
| ã©ã®é †ã§ | âœ“ | |
| ã©ã®ã‚ˆã†ã«è¨ˆç®—ã™ã‚‹ã‹ | | âœ“ |
| ã©ã‚“ãªçµæœã«ãªã‚‹ã‹ | | âœ“ |

### å‘¼ã³å‡ºã—ã®æµã‚Œ

```text
1. Service ãŒæ“ä½œãƒ•ãƒ­ãƒ¼ã‚’ç®¡ç†
   â†“
2. å¿…è¦ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ Core Engine ã‚’å‘¼ã³å‡ºã—
   â†“
3. Core Engine ãŒè¨ˆç®—ãƒ»åˆ¤å®šã‚’å®Ÿè¡Œ
   â†“
4. çµæœã‚’ Service ãŒå—ã‘å–ã‚Š
   â†“
5. Service ãŒæ¬¡ã®çŠ¶æ…‹ã¸é·ç§»
```

### å…·ä½“ä¾‹ï¼šæˆ¦é—˜ã§ã®ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†

```text
ã€Service ã®è²¬ä»»ã€‘
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ”»æ’ƒã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠ
- å¯¾è±¡ã®æ•µã‚’é¸æŠ
- ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ç®¡ç†
- çµæœã‚’UIã«é€šçŸ¥

ã€Core Engine ã®è²¬ä»»ã€‘
- æ”»æ’ƒåŠ›ã¨é˜²å¾¡åŠ›ã‹ã‚‰ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è¨ˆç®—
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«åˆ¤å®š
- å±æ€§ç›¸æ€§ã®è£œæ­£
- æœ€çµ‚ãƒ€ãƒ¡ãƒ¼ã‚¸å€¤ã®ç®—å‡º
```

---

## ã¾ã¨ã‚

Core Engineã¯ã€rpg-coreãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãŠã‘ã‚‹**è¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«ã®ä¸­æ ¸**ã‚’æ‹…ã†å±¤ã§ã™ã€‚

### æ ¸å¿ƒçš„ãªå½¹å‰²

1. **ç´”ç²‹ãªè¨ˆç®—**: æ•°å€¤è¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«åˆ¤å®šã«ç‰¹åŒ–
2. **UIãƒ•ãƒªãƒ¼**: è¡¨ç¤ºã‚„æ“ä½œãƒ•ãƒ­ãƒ¼ã‹ã‚‰å®Œå…¨ã«ç‹¬ç«‹
3. **æ±ºå®šè«–çš„**: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“
4. **æ‹¡å¼µå¯èƒ½**: ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã«å¯¾å¿œ

### åˆ©ç”¨ã®ãƒ¡ãƒªãƒƒãƒˆ

- **é–‹ç™ºåŠ¹ç‡**: è¤‡é›‘ãªè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’å†åˆ©ç”¨å¯èƒ½
- **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§**: å˜ä½“ãƒ†ã‚¹ãƒˆã§å“è³ªã‚’æ‹…ä¿
- **ãƒãƒ©ãƒ³ã‚¹èª¿æ•´**: è¨ˆç®—å¼ã‚’ä¸€ç®‡æ‰€ã§ç®¡ç†ãƒ»èª¿æ•´
- **ç§»æ¤æ€§**: ç•°ãªã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã‚‚åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ©ç”¨

Core Engineã‚’é©åˆ‡ã«è¨­è¨ˆã™ã‚‹ã“ã¨ã§ã€JRPGã®ã‚²ãƒ¼ãƒ ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹ã‚’å …ç‰¢ã‹ã¤ä¿å®ˆæ€§ã®é«˜ã„å½¢ã§å®Ÿè£…ã§ãã¾ã™ã€‚
