<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è£…å‚™å¼·åŒ–(EnhanceController) - GEasy Kit</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../lib/syntax-highlight.css">
    <script src="../lib/syntax-highlight.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-content">
                    <a href="../index.html" class="logo">GEasy Kit</a>
                    <ul class="nav-links">
                        <li><a href="../index.html">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="index.html">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
                        <li><a href="../customization/index.html">ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</a></li>
                        <li><a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="docs-section">
            <div class="container">
                <div class="docs-layout">
                    <aside class="docs-sidebar">
                        <h3>è£…å‚™å¼·åŒ–(EnhanceController)</h3>
                        <ul>
                            <li><a href="#overview" class="active">æ©Ÿèƒ½ã®æ¦‚è¦</a></li>
                            <li><a href="#headless-ui">Headless UI</a></li>
                            <li><a href="#service">Service</a></li>
                            <li><a href="#core-engine">Core Engine</a></li>
                        </ul>
                        <h4 style="margin-top: 2rem;">é–¢é€£ãƒšãƒ¼ã‚¸</h4>
                        <ul>
                            <li><a href="equipment-controller.html">â† è£…å‚™è„±ç€</a></li>
                            <li><a href="shop-controller.html">ã‚·ãƒ§ãƒƒãƒ— â†’</a></li>
                        </ul>
                    </aside>

                    <div class="docs-content">
                        <h1 id="overview">è£…å‚™å¼·åŒ–(EnhanceController)</h1>
                        
                        <h2>æ©Ÿèƒ½ã®æ¦‚è¦</h2>
                        <p>
                            EnhanceControllerã¯ã€è£…å‚™å“ã®å¼·åŒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’ç®¡ç†ã—ã¾ã™ã€‚
                            è£…å‚™ã®é¸æŠã€å¼·åŒ–ç´ æã®ç®¡ç†ã€å¼·åŒ–æˆåŠŸç‡ã®è¨ˆç®—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æä¾›ã—ã¾ã™ã€‚
                        </p>

                        <div class="card">
                            <h3>ğŸ¯ ä¸»ãªæ©Ÿèƒ½</h3>
                            <ul>
                                <li><strong>è£…å‚™å¼·åŒ–</strong>: è£…å‚™ã®ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—</li>
                                <li><strong>ç´ æç®¡ç†</strong>: å¼·åŒ–ã«å¿…è¦ãªç´ æã®é¸æŠ</li>
                                <li><strong>æˆåŠŸç‡è¨ˆç®—</strong>: å¼·åŒ–æˆåŠŸç‡ã®è¡¨ç¤º</li>
                                <li><strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</strong>: å¼·åŒ–å¾Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹äºˆæ¸¬</li>
                                <li><strong>ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆ</strong>: è£…å‚™ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨ã‚½ãƒ¼ãƒˆ</li>
                            </ul>
                        </div>

                        <h2 id="headless-ui">Headless UI</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>EnhanceControllerã‚’ä½¿ã†åŸºæœ¬çš„ãªä¾‹ã§ã™ï¼š</p>
                        <pre><code>import { GEasyKit } from 'geasy-kit';

const game = new GEasyKit();

// å¼·åŒ–é–‹å§‹
const enhanceController = game.controllers.enhance();
const enhancableEquipment = [
  { id: 1, name: 'é‹¼ã®å‰£', enhanceLevel: 0, baseStats: { attack: 50 } },
  { id: 2, name: 'é‰„ã®ç›¾', enhanceLevel: 2, baseStats: { defense: 30 } }
];

enhanceController.startEnhancing(enhancableEquipment, 10); // æœ€å¤§å¼·åŒ–ãƒ¬ãƒ™ãƒ«10

// ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­
enhanceController.on('equipment-selected', (data) => {
  console.log('é¸æŠã•ã‚ŒãŸè£…å‚™:', data.equipment);
  showEquipmentDetails(data.equipment);
});

enhanceController.on('enhance-succeeded', (data) => {
  console.log('å¼·åŒ–æˆåŠŸ!', 'æ–°ãƒ¬ãƒ™ãƒ«:', data.newLevel);
  updateEquipmentDisplay(data.equipment, data.stats);
});

enhanceController.on('enhance-failed', (data) => {
  console.log('å¼·åŒ–å¤±æ•—...', data.reason);
  showErrorMessage(data.reason);
});

// è£…å‚™é¸æŠ
enhanceController.selectEquipment(enhancableEquipment[0]);

// ç´ æé¸æŠ
enhanceController.selectMaterial('enhance_stone', 3);

// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
enhanceController.previewStats();

// å¼·åŒ–å®Ÿè¡Œ
const success = await enhanceController.executeEnhance();</code></pre>

                        <h3>ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</h3>
                        <p><code>on()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§è³¼èª­ã§ãã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ï¼š</p>
                        
                        <table>
                            <thead>
                                <tr>
                                    <th>ã‚¤ãƒ™ãƒ³ãƒˆå</th>
                                    <th>ãƒ‡ãƒ¼ã‚¿</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>enhance-started</td>
                                    <td>{ equipment }</td>
                                    <td>å¼·åŒ–ãŒé–‹å§‹ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>equipment-selected</td>
                                    <td>{ equipment }</td>
                                    <td>è£…å‚™ãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>material-selected</td>
                                    <td>{ itemId, quantity }</td>
                                    <td>ç´ æãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>stats-previewed</td>
                                    <td>{ preview }</td>
                                    <td>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>stage-changed</td>
                                    <td>{ stage }</td>
                                    <td>ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆbrowsing/selected/material-selection/confirming/enhancing/completedï¼‰ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>enhance-executed</td>
                                    <td>{ equipment, success, newLevel }</td>
                                    <td>å¼·åŒ–ãŒå®Ÿè¡Œã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>enhance-succeeded</td>
                                    <td>{ equipment, newLevel, stats }</td>
                                    <td>å¼·åŒ–ãŒæˆåŠŸã—ãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>enhance-failed</td>
                                    <td>{ equipment, reason }</td>
                                    <td>å¼·åŒ–ãŒå¤±æ•—ã—ãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>filter-changed</td>
                                    <td>{ filterType }</td>
                                    <td>ãƒ•ã‚£ãƒ«ã‚¿ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>sort-changed</td>
                                    <td>{ sortBy, order }</td>
                                    <td>ã‚½ãƒ¼ãƒˆé †ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>è£…å‚™å¼·åŒ–ãƒ•ãƒ­ãƒ¼</h3>
                        <p>EnhanceControllerã¯ä»¥ä¸‹ã®æµã‚Œã§è£…å‚™å¼·åŒ–ã‚’é€²è¡Œã—ã¾ã™ï¼š</p>
                        <div class="flow-diagram">
                            <div class="flow-step">
                                <div class="flow-node flow-start">å¼·åŒ–é–‹å§‹<br/><code>startEnhancing()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">è£…å‚™é¸æŠ<br/><code>selectEquipment()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ç´ æé¸æŠ<br/><code>selectMaterial()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼<br/><code>previewStats()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">å¼·åŒ–ç¢ºèª<br/><code>confirmEnhance()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node flow-decision">å¼·åŒ–åˆ¤å®š</div>
                                <div class="flow-branch">
                                    <div class="flow-arrow-branch">
                                        <span class="branch-label">æˆåŠŸ</span>
                                        <div class="arrow-down">â†“</div>
                                    </div>
                                    <div class="flow-arrow-branch">
                                        <span class="branch-label">å¤±æ•—</span>
                                        <div class="arrow-down">â†’å¤±æ•—ã‚¤ãƒ™ãƒ³ãƒˆ</div>
                                    </div>
                                </div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">å¼·åŒ–å®Ÿè¡Œ<br/><code>executeEnhance()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node flow-end">å¼·åŒ–å®Œäº†</div>
                            </div>
                        </div>

                        <h3>ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã®é–¢æ•°</h3>
                        <p>è£…å‚™å¼·åŒ–ã®æµã‚Œã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š</p>
                        <ul>
                            <li><code>startEnhancing(equipment, maxLevel)</code> - å¼·åŒ–ã‚’é–‹å§‹</li>
                            <li><code>selectEquipment(equipment)</code> - è£…å‚™ã‚’é¸æŠ</li>
                            <li><code>selectMaterial(itemId, quantity)</code> - ç´ æã‚’é¸æŠ</li>
                            <li><code>previewStats()</code> - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º</li>
                            <li><code>confirmEnhance()</code> - å¼·åŒ–ã‚’ç¢ºèª</li>
                            <li><code>executeEnhance()</code> - å¼·åŒ–ã‚’å®Ÿè¡Œ</li>
                            <li><code>cancel()</code> - å¼·åŒ–ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«</li>
                            <li><code>setFilter(filterType)</code> - ãƒ•ã‚£ãƒ«ã‚¿ã‚’è¨­å®š</li>
                            <li><code>setSortBy(sortBy, order)</code> - ã‚½ãƒ¼ãƒˆã‚’è¨­å®š</li>
                        </ul>

                        <h3>ã‚¹ãƒ†ãƒ¼ãƒˆæ§‹é€ </h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th>
                                    <th>å‹</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>stage</td>
                                    <td>string</td>
                                    <td>ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆ'browsing' | 'selected' | 'material-selection' | 'confirming' | 'enhancing' | 'completed'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>availableEquipment</td>
                                    <td>EnhancableEquipment[]</td>
                                    <td>å¼·åŒ–å¯èƒ½ãªè£…å‚™ä¸€è¦§</td>
                                </tr>
                                <tr>
                                    <td>selectedEquipment</td>
                                    <td>EnhancableEquipment | null</td>
                                    <td>é¸æŠä¸­ã®è£…å‚™</td>
                                </tr>
                                <tr>
                                    <td>selectedMaterials</td>
                                    <td>MaterialSelection[]</td>
                                    <td>é¸æŠã•ã‚ŒãŸç´ æã¨æ•°é‡</td>
                                </tr>
                                <tr>
                                    <td>enhanceLevel</td>
                                    <td>number</td>
                                    <td>ç¾åœ¨ã®å¼·åŒ–ãƒ¬ãƒ™ãƒ«</td>
                                </tr>
                                <tr>
                                    <td>maxEnhanceLevel</td>
                                    <td>number</td>
                                    <td>æœ€å¤§å¼·åŒ–ãƒ¬ãƒ™ãƒ«</td>
                                </tr>
                                <tr>
                                    <td>successRate</td>
                                    <td>number</td>
                                    <td>å¼·åŒ–æˆåŠŸç‡ï¼ˆ%ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>cost</td>
                                    <td>object | null</td>
                                    <td>å¼·åŒ–ã‚³ã‚¹ãƒˆï¼ˆresourceId, amountï¼‰</td>
                                </tr>
                                <tr>
                                    <td>canEnhance</td>
                                    <td>boolean</td>
                                    <td>å¼·åŒ–å¯èƒ½ã‹ã©ã†ã‹</td>
                                </tr>
                                <tr>
                                    <td>statsPreview</td>
                                    <td>EnhanceStatsPreview | null</td>
                                    <td>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆcurrent, after, differencesï¼‰</td>
                                </tr>
                                <tr>
                                    <td>filterType</td>
                                    <td>string</td>
                                    <td>ãƒ•ã‚£ãƒ«ã‚¿ã‚¿ã‚¤ãƒ—ï¼ˆ'all' | 'enhanceable' | 'max-level'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>sortBy</td>
                                    <td>string</td>
                                    <td>ã‚½ãƒ¼ãƒˆé …ç›®ï¼ˆ'name' | 'level' | 'enhance-level'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>sortOrder</td>
                                    <td>'asc' | 'desc'</td>
                                    <td>ã‚½ãƒ¼ãƒˆé †</td>
                                </tr>
                                <tr>
                                    <td>loading</td>
                                    <td>object</td>
                                    <td>ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹</td>
                                </tr>
                                <tr>
                                    <td>error</td>
                                    <td>object</td>
                                    <td>ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startEnhancing</td>
                                    <td>equipment: EnhancableEquipment[], maxLevel?: number</td>
                                    <td>void</td>
                                    <td>å¼·åŒ–ã‚’é–‹å§‹ã™ã‚‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœ€å¤§ãƒ¬ãƒ™ãƒ«10ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>selectEquipment</td>
                                    <td>equipment: EnhancableEquipment</td>
                                    <td>void</td>
                                    <td>è£…å‚™ã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectMaterial</td>
                                    <td>itemId: string, quantity: number</td>
                                    <td>void</td>
                                    <td>ç´ æã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>previewStats</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>confirmEnhance</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>å¼·åŒ–ã‚’ç¢ºèªã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>executeEnhance</td>
                                    <td>-</td>
                                    <td>Promise&lt;boolean&gt;</td>
                                    <td>å¼·åŒ–ã‚’å®Ÿè¡Œã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setFilter</td>
                                    <td>filterType: EnhanceFilterType</td>
                                    <td>void</td>
                                    <td>ãƒ•ã‚£ãƒ«ã‚¿ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setSortBy</td>
                                    <td>sortBy: EnhanceSortBy, order?: 'asc' | 'desc'</td>
                                    <td>void</td>
                                    <td>ã‚½ãƒ¼ãƒˆé †ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>cancel</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>å¼·åŒ–ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>subscribe</td>
                                    <td>listener: (state: EnhanceUIState) =&gt; void</td>
                                    <td>() =&gt; void</td>
                                    <td>çŠ¶æ…‹å¤‰æ›´ã‚’è³¼èª­ã™ã‚‹ï¼ˆè§£é™¤é–¢æ•°ã‚’è¿”ã™ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>on</td>
                                    <td>event: string, handler: (data: any) =&gt; void</td>
                                    <td>() =&gt; void</td>
                                    <td>ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã™ã‚‹ï¼ˆè§£é™¤é–¢æ•°ã‚’è¿”ã™ï¼‰</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2 id="service">Service</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>EnhanceServiceã¯è£…å‚™å¼·åŒ–ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç®¡ç†ã—ã¾ã™ï¼š</p>
                        <pre><code>const enhanceService = game.services.enhance;

// è£…å‚™å¼·åŒ–
const result = enhanceService.enhance(equipment);
if (result.success) {
  console.log('å¼·åŒ–æˆåŠŸ! æ–°ãƒ¬ãƒ™ãƒ«:', result.newLevel);
} else {
  console.log('å¼·åŒ–å¤±æ•—:', result.message);
}

// å¼·åŒ–å¯èƒ½åˆ¤å®š
const canEnhance = enhanceService.canEnhance(equipment, maxLevel);

// æˆåŠŸç‡è¨ˆç®—
const successRate = enhanceService.calculateSuccessRate(equipment);</code></pre>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>enhance</td>
                                    <td>equipment: EnhancableEquipment</td>
                                    <td>EnhanceResult</td>
                                    <td>è£…å‚™ã‚’å¼·åŒ–ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>canEnhance</td>
                                    <td>equipment: EnhancableEquipment, maxLevel: number</td>
                                    <td>boolean</td>
                                    <td>å¼·åŒ–å¯èƒ½ã‹åˆ¤å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>calculateSuccessRate</td>
                                    <td>equipment: EnhancableEquipment</td>
                                    <td>number</td>
                                    <td>å¼·åŒ–æˆåŠŸç‡ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2 id="core-engine">Core Engine</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>Core Engineã¯å¼·åŒ–è¨ˆç®—ã‚’è¡Œã„ã¾ã™ï¼š</p>
                        <pre><code>const engine = game.engine;

// å¼·åŒ–å¾Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—
const newStats = engine.calculateEnhancedStats(equipment, newLevel);
console.log('å¼·åŒ–å¾Œã®æ”»æ’ƒåŠ›:', newStats.attack);

// å¼·åŒ–ã‚³ã‚¹ãƒˆè¨ˆç®—
const cost = engine.calculateEnhanceCost(equipment, currentLevel);

// æˆåŠŸç‡è¨ˆç®—
const successRate = engine.calculateEnhanceSuccessRate(currentLevel, maxLevel);</code></pre>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>calculateEnhancedStats</td>
                                    <td>equipment: EnhancableEquipment, newLevel: number</td>
                                    <td>Stats</td>
                                    <td>å¼·åŒ–å¾Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>calculateEnhanceCost</td>
                                    <td>equipment: EnhancableEquipment, currentLevel: number</td>
                                    <td>number</td>
                                    <td>å¼·åŒ–ã‚³ã‚¹ãƒˆã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>calculateEnhanceSuccessRate</td>
                                    <td>currentLevel: number, maxLevel: number</td>
                                    <td>number</td>
                                    <td>å¼·åŒ–æˆåŠŸç‡ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
                        <div class="card">
                            <ul>
                                <li><a href="equipment-controller.html">è£…å‚™è„±ç€</a> - è£…å‚™ã®å¤‰æ›´</li>
                                <li><a href="shop-controller.html">ã‚·ãƒ§ãƒƒãƒ—</a> - ã‚¢ã‚¤ãƒ†ãƒ ã®å£²è²·</li>
                                <li><a href="item.html">ã‚¢ã‚¤ãƒ†ãƒ TOP</a> - ã‚¢ã‚¤ãƒ†ãƒ ã‚·ã‚¹ãƒ†ãƒ ã®æ¦‚è¦</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 GEasy Kit. Licensed under ISC.</p>
            <p>
                <a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a> |
                <a href="https://github.com/yonyon-web/GEasy-Kit/issues" target="_blank" rel="noopener">Issues</a> |
                <a href="index.html">Docs</a>
            </p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
