<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アイテム - GEasy Kit</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../lib/syntax-highlight.css">
    <script src="../lib/syntax-highlight.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-content">
                    <a href="../index.html" class="logo">GEasy Kit</a>
                    <ul class="nav-links">
                        <li><a href="../index.html">ホーム</a></li>
                        <li><a href="index.html">ドキュメント</a></li>
                        <li><a href="../customization/index.html">カスタマイズ</a></li>
                        <li><a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="docs-section">
            <div class="container">
                <div class="docs-layout">
                    <aside class="docs-sidebar">
                        <h3>アイテム</h3>
                        <ul>
                            <li><a href="#overview" class="active">機能の概要</a></li>
                            <li><a href="#controllers">コントローラー一覧</a></li>
                        </ul>
                        <h4 style="margin-top: 2rem;">関連ページ</h4>
                        <ul>
                            <li><a href="index.html">← ドキュメントTOP</a></li>
                            <li><a href="battle.html">戦闘システム →</a></li>
                        </ul>
                    </aside>

                    <div class="docs-content">
                        <h1 id="overview">アイテム</h1>
                        
                        <h2>機能の概要</h2>
                        <p>
                            アイテムシステムは、アイテムの使用、インベントリ管理、装備システムを提供します。
                            戦闘中やフィールドでのアイテム使用、アイテムの取得と管理、装備の変更などが可能です。
                        </p>

                        <div class="card">
                            <h3>🎯 主な機能</h3>
                            <ul>
                                <li><strong>アイテム使用</strong>: 戦闘中・フィールドでのアイテム使用フロー</li>
                                <li><strong>インベントリ管理</strong>: アイテムの追加・削除・整理</li>
                                <li><strong>装備システム</strong>: 武器・防具の装備変更</li>
                                <li><strong>アイテム効果</strong>: 回復・バフ・デバフなどの効果計算</li>
                            </ul>
                        </div>

                        <h2 id="controllers">コントローラー一覧</h2>
                        <p>アイテムシステムは以下のコントローラーで構成されています。各コントローラーの詳細は個別ページをご覧ください。</p>

                        <div class="feature-list" style="margin-top: 2rem;">
                            <div class="feature-list-item">
                                <div class="feature-list-icon">📦</div>
                                <div class="feature-list-content">
                                    <h3><a href="item-controller.html">ItemController</a></h3>
                                    <p>戦闘中・フィールドでのアイテム使用フローを管理します。アイテムの選択、ターゲットの選択、使用実行までの一連の流れを制御します。</p>
                                </div>
                                <a href="item-controller.html" class="feature-list-link">→</a>
                            </div>

                            <div class="feature-list-item">
                                <div class="feature-list-icon">🎒</div>
                                <div class="feature-list-content">
                                    <h3><a href="inventory-controller.html">InventoryController</a></h3>
                                    <p>アイテムの追加・削除・整理、フィルタリング、ソートなど、インベントリの管理機能を提供します。</p>
                                </div>
                                <a href="inventory-controller.html" class="feature-list-link">→</a>
                            </div>

                            <div class="feature-list-item">
                                <div class="feature-list-icon">⚔️</div>
                                <div class="feature-list-content">
                                    <h3><a href="equipment-controller.html">EquipmentController</a></h3>
                                    <p>武器・防具の装備変更を管理します。装備スロットの選択、装備可能アイテムの表示、装備変更時のステータス変化を提供します。</p>
                                </div>
                                <a href="equipment-controller.html" class="feature-list-link">→</a>
                            </div>

                            <div class="feature-list-item">
                                <div class="feature-list-icon">🏪</div>
                                <div class="feature-list-content">
                                    <h3><a href="#shop-controller">ShopController</a></h3>
                                    <p>アイテムの購入・売却を管理します。ショップモードの切り替え、数量選択、取引実行などの機能を提供します。</p>
                                </div>
                            </div>
                        </div>

                        <h2 id="shop-controller" style="margin-top: 3rem;">ShopController</h2>
                        
                        <h3>基本的な使い方</h3>
                        <p>ShopControllerを使う基本的な例です：</p>
                        <pre><code>import { GEasyKit } from 'geasy-kit';

const game = new GEasyKit();

// ショップ
const shopController = game.controllers.shop();
await shopController.startShop(shopItems);

shopController.on('item-bought', (data) => {
  console.log('購入:', data.item, data.quantity);
  updateInventory();
});

shopController.on('item-sold', (data) => {
  console.log('売却:', data.item, data.quantity);
  updateMoney(data.totalValue);
});</code></pre>

                        <h3>イベント一覧</h3>
                        <p><code>on()</code>メソッドで購読できるイベントです：</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>イベント名</th>
                                    <th>データ</th>
                                    <th>説明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>shop-started</td>
                                    <td>{ items, playerMoney }</td>
                                    <td>ショップが開始されたとき</td>
                                </tr>
                                <tr>
                                    <td>mode-changed</td>
                                    <td>{ mode }</td>
                                    <td>モード（購入/売却）が変更されたとき</td>
                                </tr>
                                <tr>
                                    <td>item-selected</td>
                                    <td>{ item }</td>
                                    <td>アイテムが選択されたとき</td>
                                </tr>
                                <tr>
                                    <td>quantity-changed</td>
                                    <td>{ quantity }</td>
                                    <td>数量が変更されたとき</td>
                                </tr>
                                <tr>
                                    <td>item-bought</td>
                                    <td>{ item, quantity, totalCost }</td>
                                    <td>アイテムを購入したとき</td>
                                </tr>
                                <tr>
                                    <td>item-sold</td>
                                    <td>{ item, quantity, totalValue }</td>
                                    <td>アイテムを売却したとき</td>
                                </tr>
                                <tr>
                                    <td>trade-failed</td>
                                    <td>{ reason }</td>
                                    <td>取引が失敗したとき</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>メソッド一覧</h3>
                        <p>ShopControllerに関連する主要なメソッドは以下の通りです：</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>メソッド</th>
                                    <th>引数</th>
                                    <th>戻り値</th>
                                    <th>説明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startShop</td>
                                    <td>items: ShopItem[]</td>
                                    <td>Promise&lt;void&gt;</td>
                                    <td>ショップを開始する</td>
                                </tr>
                                <tr>
                                    <td>selectItem</td>
                                    <td>itemId: string</td>
                                    <td>void</td>
                                    <td>アイテムを選択する</td>
                                </tr>
                                <tr>
                                    <td>buyItem</td>
                                    <td>itemId: string, quantity: number</td>
                                    <td>Promise&lt;TradeResult&gt;</td>
                                    <td>アイテムを購入する</td>
                                </tr>
                                <tr>
                                    <td>sellItem</td>
                                    <td>itemId: string, quantity: number</td>
                                    <td>Promise&lt;TradeResult&gt;</td>
                                    <td>アイテムを売却する</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2>次のステップ</h2>
                        <div class="card">
                            <ul>
                                <li><a href="item-controller.html">ItemController</a> - アイテム使用の詳細</li>
                                <li><a href="inventory-controller.html">InventoryController</a> - インベントリ管理の詳細</li>
                                <li><a href="equipment-controller.html">EquipmentController</a> - 装備システムの詳細</li>
                                <li><a href="../customization/index.html">カスタマイズガイド</a> - アイテムシステムのカスタマイズ例</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 GEasy Kit. Licensed under ISC.</p>
            <p>
                <a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a> |
                <a href="https://github.com/yonyon-web/GEasy-Kit/issues" target="_blank" rel="noopener">Issues</a> |
                <a href="index.html">Docs</a>
            </p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
