<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚·ãƒ§ãƒƒãƒ—(ShopController) - GEasy Kit</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../lib/syntax-highlight.css">
    <script src="../lib/syntax-highlight.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-content">
                    <a href="../index.html" class="logo">GEasy Kit</a>
                    <ul class="nav-links">
                        <li><a href="../index.html">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="index.html">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
                        <li><a href="../customization/index.html">ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</a></li>
                        <li><a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="docs-section">
            <div class="container">
                <div class="docs-layout">
                    <aside class="docs-sidebar">
                        <h3>ã‚·ãƒ§ãƒƒãƒ—(ShopController)</h3>
                        <ul>
                            <li><a href="#overview" class="active">æ©Ÿèƒ½ã®æ¦‚è¦</a></li>
                            <li><a href="#headless-ui">Headless UI</a></li>
                            <li><a href="#service">Service</a></li>
                            <li><a href="#core-engine">Core Engine</a></li>
                        </ul>
                        <h4 style="margin-top: 2rem;">é–¢é€£ãƒšãƒ¼ã‚¸</h4>
                        <ul>
                            <li><a href="item.html">â† ã‚¢ã‚¤ãƒ†ãƒ TOP</a></li>
                            <li><a href="inventory-controller.html">ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç®¡ç† â†’</a></li>
                        </ul>
                    </aside>

                    <div class="docs-content">
                        <h1 id="overview">ã‚·ãƒ§ãƒƒãƒ—(ShopController)</h1>
                        
                        <h2>æ©Ÿèƒ½ã®æ¦‚è¦</h2>
                        <p>
                            ShopControllerã¯ã€ã‚·ãƒ§ãƒƒãƒ—ã§ã®ã‚¢ã‚¤ãƒ†ãƒ å£²è²·ã‚’ç®¡ç†ã—ã¾ã™ã€‚
                            ã‚¢ã‚¤ãƒ†ãƒ ã®è³¼å…¥ã¨å£²å´ã€åœ¨åº«ç®¡ç†ã€ä¾¡æ ¼è¨ˆç®—ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
                        </p>

                        <div class="card">
                            <h3>ğŸ¯ ä¸»ãªæ©Ÿèƒ½</h3>
                            <ul>
                                <li><strong>ã‚¢ã‚¤ãƒ†ãƒ è³¼å…¥</strong>: ã‚·ãƒ§ãƒƒãƒ—ã‹ã‚‰ã‚¢ã‚¤ãƒ†ãƒ ã‚’è³¼å…¥</li>
                                <li><strong>ã‚¢ã‚¤ãƒ†ãƒ å£²å´</strong>: æ‰€æŒã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚·ãƒ§ãƒƒãƒ—ã«å£²å´</li>
                                <li><strong>åœ¨åº«ç®¡ç†</strong>: ã‚·ãƒ§ãƒƒãƒ—ã®åœ¨åº«æ•°ã‚’ç®¡ç†</li>
                                <li><strong>ä¾¡æ ¼è¨­å®š</strong>: è³¼å…¥ä¾¡æ ¼ã¨å£²å´ä¾¡æ ¼ã®ç®¡ç†</li>
                                <li><strong>ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆ</strong>: ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨ã‚½ãƒ¼ãƒˆ</li>
                                <li><strong>ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³</strong>: å¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒšãƒ¼ã‚¸åˆ†å‰²è¡¨ç¤º</li>
                            </ul>
                        </div>

                        <h2 id="headless-ui">Headless UI</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>ShopControllerã‚’ä½¿ã†åŸºæœ¬çš„ãªä¾‹ã§ã™ï¼š</p>
                        <pre><code>import { GEasyKit } from 'geasy-kit';

const game = new GEasyKit();

// ã‚·ãƒ§ãƒƒãƒ—é–‹å§‹
const shopController = game.controllers.shop();
const shopItems = [
  { item: sword, buyPrice: 1000, sellPrice: 500, stock: 10 },
  { item: potion, buyPrice: 50, sellPrice: 25, stock: null } // null = ç„¡é™åœ¨åº«
];

shopController.startShopping(shopItems, playerMoney);

// ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­
shopController.on('item-bought', (data) => {
  console.log('è³¼å…¥:', data.item, 'æ•°é‡:', data.quantity, 'é‡‘é¡:', data.totalPrice);
  updateInventory(data.item, data.quantity);
});

shopController.on('item-sold', (data) => {
  console.log('å£²å´:', data.item, 'æ•°é‡:', data.quantity, 'é‡‘é¡:', data.totalPrice);
  removeFromInventory(data.item, data.quantity);
});

// ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆè³¼å…¥/å£²å´ï¼‰
shopController.setMode('buy');  // ã¾ãŸã¯ 'sell'

// ã‚¢ã‚¤ãƒ†ãƒ é¸æŠ
shopController.selectItem(shopItems[0]);

// æ•°é‡è¨­å®š
shopController.setQuantity(3);

// å–å¼•å®Ÿè¡Œ
const success = await shopController.executeTrade();</code></pre>

                        <h3>ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</h3>
                        <p><code>on()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§è³¼èª­ã§ãã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ï¼š</p>
                        
                        <table>
                            <thead>
                                <tr>
                                    <th>ã‚¤ãƒ™ãƒ³ãƒˆå</th>
                                    <th>ãƒ‡ãƒ¼ã‚¿</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>shop-started</td>
                                    <td>{ items, playerMoney }</td>
                                    <td>ã‚·ãƒ§ãƒƒãƒ—ãŒé–‹å§‹ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>mode-changed</td>
                                    <td>{ mode }</td>
                                    <td>ãƒ¢ãƒ¼ãƒ‰ï¼ˆè³¼å…¥/å£²å´ï¼‰ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>item-selected</td>
                                    <td>{ item }</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>quantity-changed</td>
                                    <td>{ quantity }</td>
                                    <td>æ•°é‡ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>stage-changed</td>
                                    <td>{ stage }</td>
                                    <td>ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆbrowsing/buying/selling/confirming/completedï¼‰ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>item-bought</td>
                                    <td>{ item, quantity, totalPrice }</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ãŒè³¼å…¥ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>item-sold</td>
                                    <td>{ item, quantity, totalPrice }</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ãŒå£²å´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>trade-failed</td>
                                    <td>{ item, reason }</td>
                                    <td>å–å¼•ãŒå¤±æ•—ã—ãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>filter-changed</td>
                                    <td>{ filterType }</td>
                                    <td>ãƒ•ã‚£ãƒ«ã‚¿ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>sort-changed</td>
                                    <td>{ sortBy, order }</td>
                                    <td>ã‚½ãƒ¼ãƒˆé †ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>page-changed</td>
                                    <td>{ page }</td>
                                    <td>ãƒšãƒ¼ã‚¸ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>ã‚·ãƒ§ãƒƒãƒ—å–å¼•ãƒ•ãƒ­ãƒ¼</h3>
                        <p>ShopControllerã¯ä»¥ä¸‹ã®æµã‚Œã§ã‚¢ã‚¤ãƒ†ãƒ å–å¼•ã‚’é€²è¡Œã—ã¾ã™ï¼š</p>
                        <div class="flow-diagram">
                            <div class="flow-step">
                                <div class="flow-node flow-start">ã‚·ãƒ§ãƒƒãƒ—é–‹å§‹<br/><code>startShopping()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ãƒ¢ãƒ¼ãƒ‰é¸æŠ<br/><code>setMode('buy' | 'sell')</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ã‚¢ã‚¤ãƒ†ãƒ é¸æŠ<br/><code>selectItem()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">æ•°é‡è¨­å®š<br/><code>setQuantity()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">å–å¼•ç¢ºèª<br/><code>confirmTrade()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">å–å¼•å®Ÿè¡Œ<br/><code>executeTrade()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node flow-end">å–å¼•å®Œäº†</div>
                            </div>
                        </div>

                        <h3>ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã®é–¢æ•°</h3>
                        <p>ã‚·ãƒ§ãƒƒãƒ—å–å¼•ã®æµã‚Œã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š</p>
                        <ul>
                            <li><code>startShopping(items, playerMoney)</code> - ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹å§‹</li>
                            <li><code>setMode(mode)</code> - ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡æ›¿ï¼ˆ'buy' | 'sell'ï¼‰</li>
                            <li><code>selectItem(item)</code> - ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠ</li>
                            <li><code>setQuantity(quantity)</code> - æ•°é‡ã‚’è¨­å®š</li>
                            <li><code>confirmTrade()</code> - å–å¼•ã‚’ç¢ºèª</li>
                            <li><code>executeTrade()</code> - å–å¼•ã‚’å®Ÿè¡Œ</li>
                            <li><code>cancel()</code> - å–å¼•ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«</li>
                            <li><code>setFilter(filterType)</code> - ãƒ•ã‚£ãƒ«ã‚¿ã‚’è¨­å®š</li>
                            <li><code>setSortBy(sortBy, order)</code> - ã‚½ãƒ¼ãƒˆã‚’è¨­å®š</li>
                            <li><code>setPage(page)</code> - ãƒšãƒ¼ã‚¸ã‚’è¨­å®š</li>
                        </ul>

                        <h3>ã‚¹ãƒ†ãƒ¼ãƒˆæ§‹é€ </h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th>
                                    <th>å‹</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>stage</td>
                                    <td>string</td>
                                    <td>ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆ'browsing' | 'buying' | 'selling' | 'confirming' | 'completed'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>mode</td>
                                    <td>'buy' | 'sell'</td>
                                    <td>å–å¼•ãƒ¢ãƒ¼ãƒ‰</td>
                                </tr>
                                <tr>
                                    <td>shopItems</td>
                                    <td>ShopUIItem[]</td>
                                    <td>ã‚·ãƒ§ãƒƒãƒ—ã®ã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§</td>
                                </tr>
                                <tr>
                                    <td>selectedItem</td>
                                    <td>ShopUIItem | null</td>
                                    <td>é¸æŠä¸­ã®ã‚¢ã‚¤ãƒ†ãƒ </td>
                                </tr>
                                <tr>
                                    <td>quantity</td>
                                    <td>number</td>
                                    <td>å–å¼•æ•°é‡</td>
                                </tr>
                                <tr>
                                    <td>totalPrice</td>
                                    <td>number</td>
                                    <td>åˆè¨ˆé‡‘é¡</td>
                                </tr>
                                <tr>
                                    <td>playerMoney</td>
                                    <td>number</td>
                                    <td>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ‰€æŒé‡‘</td>
                                </tr>
                                <tr>
                                    <td>canTrade</td>
                                    <td>boolean</td>
                                    <td>å–å¼•å¯èƒ½ã‹ã©ã†ã‹</td>
                                </tr>
                                <tr>
                                    <td>tradeReasons</td>
                                    <td>string[]</td>
                                    <td>å–å¼•ä¸å¯ã®ç†ç”±</td>
                                </tr>
                                <tr>
                                    <td>filterType</td>
                                    <td>string</td>
                                    <td>ãƒ•ã‚£ãƒ«ã‚¿ã‚¿ã‚¤ãƒ—ï¼ˆ'all' | 'buyable' | 'unbuyable' | 'sellable'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>sortBy</td>
                                    <td>string</td>
                                    <td>ã‚½ãƒ¼ãƒˆé …ç›®ï¼ˆ'name' | 'price' | 'category'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>sortOrder</td>
                                    <td>'asc' | 'desc'</td>
                                    <td>ã‚½ãƒ¼ãƒˆé †</td>
                                </tr>
                                <tr>
                                    <td>pagination</td>
                                    <td>object</td>
                                    <td>ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±ï¼ˆpage, perPage, totalPages, totalItemsï¼‰</td>
                                </tr>
                                <tr>
                                    <td>loading</td>
                                    <td>object</td>
                                    <td>ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹</td>
                                </tr>
                                <tr>
                                    <td>error</td>
                                    <td>object</td>
                                    <td>ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startShopping</td>
                                    <td>items: ShopUIItem[], playerMoney: number</td>
                                    <td>void</td>
                                    <td>ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹å§‹ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setMode</td>
                                    <td>mode: 'buy' | 'sell'</td>
                                    <td>void</td>
                                    <td>å–å¼•ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectItem</td>
                                    <td>item: ShopUIItem</td>
                                    <td>void</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setQuantity</td>
                                    <td>quantity: number</td>
                                    <td>void</td>
                                    <td>å–å¼•æ•°é‡ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>confirmTrade</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>å–å¼•ã‚’ç¢ºèªã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>executeTrade</td>
                                    <td>-</td>
                                    <td>Promise&lt;boolean&gt;</td>
                                    <td>å–å¼•ã‚’å®Ÿè¡Œã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setFilter</td>
                                    <td>filterType: ShopFilterType</td>
                                    <td>void</td>
                                    <td>ãƒ•ã‚£ãƒ«ã‚¿ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setSortBy</td>
                                    <td>sortBy: ShopSortBy, order?: 'asc' | 'desc'</td>
                                    <td>void</td>
                                    <td>ã‚½ãƒ¼ãƒˆé †ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setPage</td>
                                    <td>page: number</td>
                                    <td>void</td>
                                    <td>ãƒšãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>cancel</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>å–å¼•ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>setCharacter</td>
                                    <td>character: Character | null</td>
                                    <td>void</td>
                                    <td>å–å¼•ã«ä½¿ç”¨ã™ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’è¨­å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>subscribe</td>
                                    <td>listener: (state: ShopUIState) =&gt; void</td>
                                    <td>() =&gt; void</td>
                                    <td>çŠ¶æ…‹å¤‰æ›´ã‚’è³¼èª­ã™ã‚‹ï¼ˆè§£é™¤é–¢æ•°ã‚’è¿”ã™ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>on</td>
                                    <td>event: string, handler: (data: any) =&gt; void</td>
                                    <td>() =&gt; void</td>
                                    <td>ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã™ã‚‹ï¼ˆè§£é™¤é–¢æ•°ã‚’è¿”ã™ï¼‰</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2 id="service">Service</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>ShopServiceã¯ã‚·ãƒ§ãƒƒãƒ—ã®å–å¼•ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç®¡ç†ã—ã¾ã™ï¼š</p>
                        <pre><code>const shopService = game.services.shop;

// ã‚¢ã‚¤ãƒ†ãƒ è³¼å…¥
const buyResult = shopService.buyItem(character, shopItemIndex, quantity);
if (buyResult.success) {
  console.log('è³¼å…¥æˆåŠŸ:', buyResult.moneySpent, 'Gæ”¯æ‰•ã„');
} else {
  console.log('è³¼å…¥å¤±æ•—:', buyResult.failureReason);
}

// ã‚¢ã‚¤ãƒ†ãƒ å£²å´
const sellResult = shopService.sellItem(character, itemId, quantity);
if (sellResult.success) {
  console.log('å£²å´æˆåŠŸ:', sellResult.moneyGained, 'Gç²å¾—');
} else {
  console.log('å£²å´å¤±æ•—:', sellResult.failureReason);
}</code></pre>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>buyItem</td>
                                    <td>character: Character, shopItemIndex: number, quantity: number</td>
                                    <td>BuyResult</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ã‚’è³¼å…¥ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>sellItem</td>
                                    <td>character: Character, itemId: string, quantity: number</td>
                                    <td>SellResult</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ã‚’å£²å´ã™ã‚‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2 id="core-engine">Core Engine</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>Core Engineã¯ä¾¡æ ¼è¨ˆç®—ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã„ã¾ã™ï¼š</p>
                        <pre><code>const engine = game.engine;

// ä¾¡æ ¼è¨ˆç®—
const buyPrice = engine.calculateBuyPrice(item, basePrice);
const sellPrice = engine.calculateSellPrice(item, buyPrice);

// è³¼å…¥å¯èƒ½åˆ¤å®š
const canBuy = engine.checkCanBuy(character, item, price, quantity);

// å£²å´å¯èƒ½åˆ¤å®š
const canSell = engine.checkCanSell(character, itemId, quantity);</code></pre>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>calculateBuyPrice</td>
                                    <td>item: Item, basePrice: number</td>
                                    <td>number</td>
                                    <td>è³¼å…¥ä¾¡æ ¼ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>calculateSellPrice</td>
                                    <td>item: Item, buyPrice: number</td>
                                    <td>number</td>
                                    <td>å£²å´ä¾¡æ ¼ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>checkCanBuy</td>
                                    <td>character: Character, item: Item, price: number, quantity: number</td>
                                    <td>boolean</td>
                                    <td>è³¼å…¥å¯èƒ½ã‹åˆ¤å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>checkCanSell</td>
                                    <td>character: Character, itemId: string, quantity: number</td>
                                    <td>boolean</td>
                                    <td>å£²å´å¯èƒ½ã‹åˆ¤å®šã™ã‚‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
                        <div class="card">
                            <ul>
                                <li><a href="item-controller.html">ã‚¢ã‚¤ãƒ†ãƒ </a> - ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨ãƒ•ãƒ­ãƒ¼</li>
                                <li><a href="inventory-controller.html">ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç®¡ç†</a> - ã‚¢ã‚¤ãƒ†ãƒ ã®ç®¡ç†</li>
                                <li><a href="enhance-controller.html">è£…å‚™å¼·åŒ–</a> - è£…å‚™ã®å¼·åŒ–ã‚·ã‚¹ãƒ†ãƒ </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 GEasy Kit. Licensed under ISC.</p>
            <p>
                <a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a> |
                <a href="https://github.com/yonyon-web/GEasy-Kit/issues" target="_blank" rel="noopener">Issues</a> |
                <a href="index.html">Docs</a>
            </p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
