<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚³ãƒãƒ³ãƒ‰é¸æŠ(CommandController) - GEasy Kit</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../lib/syntax-highlight.css">
    <script src="../lib/syntax-highlight.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-content">
                    <a href="../index.html" class="logo">GEasy Kit</a>
                    <ul class="nav-links">
                        <li><a href="../index.html">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="index.html">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
                        <li><a href="../customization/index.html">ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</a></li>
                        <li><a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="docs-section">
            <div class="container">
                <div class="docs-layout">
                    <aside class="docs-sidebar">
                        <h3>ã‚³ãƒãƒ³ãƒ‰é¸æŠ(CommandController)</h3>
                        <ul>
                            <li><a href="#overview" class="active">æ©Ÿèƒ½ã®æ¦‚è¦</a></li>
                            <li><a href="#headless-ui">Headless UI</a></li>
                            <li><a href="#service">Service</a></li>
                            <li><a href="#core-engine">Core Engine</a></li>
                        </ul>
                        <h4 style="margin-top: 2rem;">é–¢é€£ãƒšãƒ¼ã‚¸</h4>
                        <ul>
                            <li><a href="battle.html">â† æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ </a></li>
                            <li><a href="item-controller.html">ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨ â†’</a></li>
                        </ul>
                    </aside>

                    <div class="docs-content">
                        <h1 id="overview">ã‚³ãƒãƒ³ãƒ‰é¸æŠ(CommandController)</h1>
                        
                        <h2>æ©Ÿèƒ½ã®æ¦‚è¦</h2>
                        <p>
                            CommandControllerã¯ã€æˆ¦é—˜ä¸­ã®ã‚³ãƒãƒ³ãƒ‰é¸æŠUIã‚’ç®¡ç†ã—ã¾ã™ã€‚
                            æ”»æ’ƒã€ã‚¹ã‚­ãƒ«ã€ã‚¢ã‚¤ãƒ†ãƒ ã€é˜²å¾¡ãªã©ã®ã‚³ãƒãƒ³ãƒ‰é¸æŠã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠã€ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æä¾›ã—ã¾ã™ã€‚
                        </p>

                        <div class="card">
                            <h3>ğŸ¯ ä¸»ãªæ©Ÿèƒ½</h3>
                            <ul>
                                <li><strong>ã‚³ãƒãƒ³ãƒ‰é¸æŠ</strong>: æ”»æ’ƒã€ã‚¹ã‚­ãƒ«ã€ã‚¢ã‚¤ãƒ†ãƒ ã€é˜²å¾¡ã®é¸æŠ</li>
                                <li><strong>ã‚¹ã‚­ãƒ«é¸æŠ</strong>: ä½¿ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã‹ã‚‰é¸æŠ</li>
                                <li><strong>ã‚¢ã‚¤ãƒ†ãƒ é¸æŠ</strong>: ä½¿ç”¨å¯èƒ½ãªã‚¢ã‚¤ãƒ†ãƒ ã‹ã‚‰é¸æŠ</li>
                                <li><strong>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠ</strong>: æ”»æ’ƒå¯¾è±¡ã®é¸æŠ</li>
                                <li><strong>ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</strong>: äºˆæƒ³ãƒ€ãƒ¡ãƒ¼ã‚¸ã®è¡¨ç¤º</li>
                                <li><strong>ã‚«ãƒ¼ã‚½ãƒ«æ“ä½œ</strong>: ä¸Šä¸‹ç§»å‹•ã«ã‚ˆã‚‹UIæ“ä½œ</li>
                            </ul>
                        </div>

                        <h2 id="headless-ui">Headless UI</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>CommandControllerã‚’ä½¿ã†åŸºæœ¬çš„ãªä¾‹ã§ã™ï¼š</p>
                        <pre><code>import { GEasyKit } from 'geasy-kit';

const game = new GEasyKit();

// ã‚³ãƒãƒ³ãƒ‰é¸æŠé–‹å§‹
const commandController = game.controllers.command();
const actor = party.members[0];
const battleState = game.battle.getState();

commandController.startCommandSelection(actor, battleState);

// ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­
commandController.on('command-selected', (data) => {
  console.log('é¸æŠã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰:', data.command);
  updateCommandDisplay(data.command);
});

commandController.on('skill-selected', (data) => {
  console.log('é¸æŠã•ã‚ŒãŸã‚¹ã‚­ãƒ«:', data.skill);
  showSkillInfo(data.skill);
});

commandController.on('target-selected', (data) => {
  console.log('é¸æŠã•ã‚ŒãŸã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:', data.target);
  highlightTarget(data.target);
});

commandController.on('action-confirmed', (data) => {
  console.log('ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç¢ºå®š:', data.action);
  executeBattleAction(data.action);
});

// ã‚³ãƒãƒ³ãƒ‰é¸æŠ
commandController.selectCommand('attack');  // ã¾ãŸã¯ 'skill', 'item', 'defend'

// ã‚¹ã‚­ãƒ«é¸æŠï¼ˆ'skill'ã‚³ãƒãƒ³ãƒ‰é¸æŠå¾Œï¼‰
commandController.selectSkill(fireSkill);

// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠ
commandController.selectTarget(enemy);

// ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•
commandController.moveCursor(1);  // ä¸‹ã¸ç§»å‹•ï¼ˆ-1ã§ä¸Šã¸ï¼‰

// ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
commandController.calculateDamagePreview(enemy);

// ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç¢ºå®š
commandController.confirmAction();

// ã‚­ãƒ£ãƒ³ã‚»ãƒ«
commandController.cancel();</code></pre>

                        <h3>ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</h3>
                        <p><code>on()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§è³¼èª­ã§ãã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ï¼š</p>
                        
                        <table>
                            <thead>
                                <tr>
                                    <th>ã‚¤ãƒ™ãƒ³ãƒˆå</th>
                                    <th>ãƒ‡ãƒ¼ã‚¿</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>command-selected</td>
                                    <td>{ command }</td>
                                    <td>ã‚³ãƒãƒ³ãƒ‰ãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>skill-selected</td>
                                    <td>{ skill }</td>
                                    <td>ã‚¹ã‚­ãƒ«ãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>item-selected</td>
                                    <td>{ item }</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>target-selected</td>
                                    <td>{ target }</td>
                                    <td>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãŒé¸æŠã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>action-confirmed</td>
                                    <td>{ action }</td>
                                    <td>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒç¢ºå®šã•ã‚ŒãŸã¨ã</td>
                                </tr>
                                <tr>
                                    <td>action-cancelled</td>
                                    <td>{}</td>
                                    <td>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚ŒãŸã¨ã</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>ã‚³ãƒãƒ³ãƒ‰é¸æŠãƒ•ãƒ­ãƒ¼</h3>
                        <p>CommandControllerã¯ä»¥ä¸‹ã®æµã‚Œã§ã‚³ãƒãƒ³ãƒ‰é¸æŠã‚’é€²è¡Œã—ã¾ã™ï¼š</p>
                        <div class="flow-diagram">
                            <div class="flow-step">
                                <div class="flow-node flow-start">é¸æŠé–‹å§‹<br/><code>startCommandSelection()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ã‚³ãƒãƒ³ãƒ‰é¸æŠ<br/><code>selectCommand()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node flow-decision">ã‚³ãƒãƒ³ãƒ‰ã‚¿ã‚¤ãƒ—</div>
                                <div class="flow-branch">
                                    <div class="flow-arrow-branch">
                                        <span class="branch-label">æ”»æ’ƒ</span>
                                        <div class="arrow-down">â†’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠ</div>
                                    </div>
                                    <div class="flow-arrow-branch">
                                        <span class="branch-label">ã‚¹ã‚­ãƒ«</span>
                                        <div class="arrow-down">â†’ã‚¹ã‚­ãƒ«é¸æŠ</div>
                                    </div>
                                    <div class="flow-arrow-branch">
                                        <span class="branch-label">ã‚¢ã‚¤ãƒ†ãƒ </span>
                                        <div class="arrow-down">â†’ã‚¢ã‚¤ãƒ†ãƒ é¸æŠ</div>
                                    </div>
                                    <div class="flow-arrow-branch">
                                        <span class="branch-label">é˜²å¾¡</span>
                                        <div class="arrow-down">â†’ç¢ºå®š</div>
                                    </div>
                                </div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸æŠ<br/><code>selectTarget()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç¢ºå®š<br/><code>confirmAction()</code></div>
                                <div class="flow-arrow">â†“</div>
                            </div>
                            <div class="flow-step">
                                <div class="flow-node flow-end">æˆ¦é—˜å®Ÿè¡Œ</div>
                            </div>
                        </div>

                        <h3>ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã®é–¢æ•°</h3>
                        <p>ã‚³ãƒãƒ³ãƒ‰é¸æŠã®æµã‚Œã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š</p>
                        <ul>
                            <li><code>startCommandSelection(actor, battleState)</code> - ã‚³ãƒãƒ³ãƒ‰é¸æŠã‚’é–‹å§‹</li>
                            <li><code>selectCommand(command)</code> - ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠï¼ˆ'attack', 'skill', 'item', 'defend'ï¼‰</li>
                            <li><code>selectSkill(skill)</code> - ã‚¹ã‚­ãƒ«ã‚’é¸æŠ</li>
                            <li><code>selectItem(item)</code> - ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠ</li>
                            <li><code>selectTarget(target)</code> - ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’é¸æŠ</li>
                            <li><code>moveCursor(direction)</code> - ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç§»å‹•ï¼ˆ1: ä¸‹ã€-1: ä¸Šï¼‰</li>
                            <li><code>calculateDamagePreview(target)</code> - ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¨ˆç®—</li>
                            <li><code>confirmAction()</code> - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºå®š</li>
                            <li><code>cancel()</code> - é¸æŠã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«</li>
                        </ul>

                        <h3>ã‚¹ãƒ†ãƒ¼ãƒˆæ§‹é€ </h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th>
                                    <th>å‹</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>stage</td>
                                    <td>string</td>
                                    <td>ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆ'selecting-command' | 'selecting-skill' | 'selecting-item' | 'selecting-target' | 'confirmed'ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>actor</td>
                                    <td>Character | null</td>
                                    <td>è¡Œå‹•ã™ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</td>
                                </tr>
                                <tr>
                                    <td>availableCommands</td>
                                    <td>string[]</td>
                                    <td>é¸æŠå¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§</td>
                                </tr>
                                <tr>
                                    <td>availableSkills</td>
                                    <td>Skill[]</td>
                                    <td>ä½¿ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ä¸€è¦§</td>
                                </tr>
                                <tr>
                                    <td>availableItems</td>
                                    <td>Item[]</td>
                                    <td>ä½¿ç”¨å¯èƒ½ãªã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§</td>
                                </tr>
                                <tr>
                                    <td>availableTargets</td>
                                    <td>Combatant[]</td>
                                    <td>é¸æŠå¯èƒ½ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆä¸€è¦§</td>
                                </tr>
                                <tr>
                                    <td>selectedCommand</td>
                                    <td>string | null</td>
                                    <td>é¸æŠã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰</td>
                                </tr>
                                <tr>
                                    <td>selectedSkill</td>
                                    <td>Skill | null</td>
                                    <td>é¸æŠã•ã‚ŒãŸã‚¹ã‚­ãƒ«</td>
                                </tr>
                                <tr>
                                    <td>selectedItem</td>
                                    <td>Item | null</td>
                                    <td>é¸æŠã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ </td>
                                </tr>
                                <tr>
                                    <td>selectedTargets</td>
                                    <td>Combatant[]</td>
                                    <td>é¸æŠã•ã‚ŒãŸã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</td>
                                </tr>
                                <tr>
                                    <td>cursorIndex</td>
                                    <td>number</td>
                                    <td>ç¾åœ¨ã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®</td>
                                </tr>
                                <tr>
                                    <td>damagePreview</td>
                                    <td>number | null</td>
                                    <td>äºˆæƒ³ãƒ€ãƒ¡ãƒ¼ã‚¸</td>
                                </tr>
                                <tr>
                                    <td>targetPreview</td>
                                    <td>Combatant | null</td>
                                    <td>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startCommandSelection</td>
                                    <td>actor: Character, battleState: BattleState</td>
                                    <td>void</td>
                                    <td>ã‚³ãƒãƒ³ãƒ‰é¸æŠã‚’é–‹å§‹ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectCommand</td>
                                    <td>command: string</td>
                                    <td>void</td>
                                    <td>ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectSkill</td>
                                    <td>skill: Skill</td>
                                    <td>void</td>
                                    <td>ã‚¹ã‚­ãƒ«ã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectItem</td>
                                    <td>item: Item</td>
                                    <td>void</td>
                                    <td>ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectTarget</td>
                                    <td>target: Combatant</td>
                                    <td>void</td>
                                    <td>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>moveCursor</td>
                                    <td>direction: number</td>
                                    <td>void</td>
                                    <td>ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç§»å‹•ã™ã‚‹ï¼ˆ1: ä¸‹ã€-1: ä¸Šï¼‰</td>
                                </tr>
                                <tr>
                                    <td>calculateDamagePreview</td>
                                    <td>target: Combatant</td>
                                    <td>void</td>
                                    <td>ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>confirmAction</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºå®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>cancel</td>
                                    <td>-</td>
                                    <td>void</td>
                                    <td>é¸æŠã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>getState</td>
                                    <td>-</td>
                                    <td>CommandUIState</td>
                                    <td>ç¾åœ¨ã®çŠ¶æ…‹ã‚’å–å¾—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>subscribe</td>
                                    <td>listener: (state: CommandUIState) =&gt; void</td>
                                    <td>() =&gt; void</td>
                                    <td>çŠ¶æ…‹å¤‰æ›´ã‚’è³¼èª­ã™ã‚‹ï¼ˆè§£é™¤é–¢æ•°ã‚’è¿”ã™ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>on</td>
                                    <td>event: string, handler: (data: any) =&gt; void</td>
                                    <td>() =&gt; void</td>
                                    <td>ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã™ã‚‹ï¼ˆè§£é™¤é–¢æ•°ã‚’è¿”ã™ï¼‰</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2 id="service">Service</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>CommandServiceã¯ã‚³ãƒãƒ³ãƒ‰é¸æŠã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç®¡ç†ã—ã¾ã™ï¼š</p>
                        <pre><code>const commandService = game.services.command;

// ã‚³ãƒãƒ³ãƒ‰é¸æŠé–‹å§‹
commandService.startCommandSelection(actor, battleState);

// åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ã‚’å–å¾—
const availableCommands = commandService.getAvailableCommands();

// ã‚³ãƒãƒ³ãƒ‰é¸æŠ
commandService.selectCommand('attack');

// åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã‚’å–å¾—
const availableSkills = commandService.getAvailableSkills();

// åˆ©ç”¨å¯èƒ½ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å–å¾—
const availableTargets = commandService.getAvailableTargets();

// çŠ¶æ…‹ã‚’å–å¾—
const commandState = commandService.getState();</code></pre>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startCommandSelection</td>
                                    <td>actor: Character, battleState: BattleState</td>
                                    <td>CommandState</td>
                                    <td>ã‚³ãƒãƒ³ãƒ‰é¸æŠã‚’é–‹å§‹ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>selectCommand</td>
                                    <td>command: string</td>
                                    <td>void</td>
                                    <td>ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>getAvailableCommands</td>
                                    <td>-</td>
                                    <td>string[]</td>
                                    <td>åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ã‚’å–å¾—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>getAvailableSkills</td>
                                    <td>-</td>
                                    <td>Skill[]</td>
                                    <td>åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã‚’å–å¾—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>getAvailableTargets</td>
                                    <td>-</td>
                                    <td>Combatant[]</td>
                                    <td>åˆ©ç”¨å¯èƒ½ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å–å¾—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>getState</td>
                                    <td>-</td>
                                    <td>CommandState</td>
                                    <td>ç¾åœ¨ã®çŠ¶æ…‹ã‚’å–å¾—ã™ã‚‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2 id="core-engine">Core Engine</h2>
                        
                        <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
                        <p>Core Engineã¯ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ã‚„è¡Œå‹•åˆ¤å®šã‚’è¡Œã„ã¾ã™ï¼š</p>
                        <pre><code>const engine = game.engine;

// ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
const damageResult = engine.calculateDamage(attacker, target, skill, config);
console.log('ãƒ€ãƒ¡ãƒ¼ã‚¸:', damageResult.finalDamage);
console.log('ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«:', damageResult.isCritical);

// ã‚¹ã‚­ãƒ«ä½¿ç”¨å¯èƒ½åˆ¤å®š
const canUseSkill = engine.checkSkillUsable(character, skill);

// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå–å¾—
const targets = engine.getValidTargets(skill, battleState);</code></pre>

                        <h3>ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
                                    <th>å¼•æ•°</th>
                                    <th>æˆ»ã‚Šå€¤</th>
                                    <th>èª¬æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>calculateDamage</td>
                                    <td>attacker: Character, target: Combatant, skill: Skill, config: GameConfig</td>
                                    <td>DamageResult</td>
                                    <td>ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è¨ˆç®—ã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>checkSkillUsable</td>
                                    <td>character: Character, skill: Skill</td>
                                    <td>boolean</td>
                                    <td>ã‚¹ã‚­ãƒ«ãŒä½¿ç”¨å¯èƒ½ã‹åˆ¤å®šã™ã‚‹</td>
                                </tr>
                                <tr>
                                    <td>getValidTargets</td>
                                    <td>skill: Skill, battleState: BattleState</td>
                                    <td>Combatant[]</td>
                                    <td>æœ‰åŠ¹ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å–å¾—ã™ã‚‹</td>
                                </tr>
                            </tbody>
                        </table>

                        <h2>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
                        <div class="card">
                            <ul>
                                <li><a href="battle.html">æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ </a> - æˆ¦é—˜ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼</li>
                                <li><a href="item-controller.html">ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨</a> - æˆ¦é—˜ä¸­ã®ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨</li>
                                <li><a href="enemy-ai.html">æ•µAI</a> - æ•µã®è¡Œå‹•æ±ºå®š</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 GEasy Kit. Licensed under ISC.</p>
            <p>
                <a href="https://github.com/yonyon-web/GEasy-Kit" target="_blank" rel="noopener">GitHub</a> |
                <a href="https://github.com/yonyon-web/GEasy-Kit/issues" target="_blank" rel="noopener">Issues</a> |
                <a href="index.html">Docs</a>
            </p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
