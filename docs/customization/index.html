<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé€†å¼•ã - GEasy Kit</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../lib/syntax-highlight.css">
    <script src="../lib/syntax-highlight.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-content">
                    <a href="../index.html" class="logo">GEasy Kit</a>
                    <ul class="nav-links">
                        <li><a href="../index.html">ãƒ›ãƒ¼ãƒ </a></li>
                        <li><a href="../docs/index.html">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
                        <li><a href="index.html">ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</a></li>
                        <li><a href="../examples/index.html">ã‚µãƒ³ãƒ—ãƒ«</a></li>
                        <li><a href="../api/index.html">API</a></li>
                        <li><a href="https://github.com/yonyon-web/GEasy Kit" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="docs-section">
            <div class="container">
                <div class="docs-layout">
                    <aside class="docs-sidebar">
                        <h3>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                        <ul>
                            <li><a href="#overview" class="active">ã¯ã˜ã‚ã«</a></li>
                            <li><a href="#headless-ui">Headless UI</a></li>
                            <li><a href="#services">Services</a></li>
                            <li><a href="#core-engine">Core Engine</a></li>
                        </ul>
                    </aside>

                    <div class="docs-content">
                        <h1 id="overview">ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé€†å¼•ãã‚¬ã‚¤ãƒ‰</h1>
                        <p>
                            ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€GEasy Kitã‚’ä½¿ã£ã¦ã€Œã€‡ã€‡ã—ãŸã„ã€ã¨ã„ã†è¦æœ›ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•ã‚’ã€
                            é€†å¼•ãå½¢å¼ã§èª¬æ˜ã—ã¾ã™ã€‚å„æ©Ÿèƒ½ã”ã¨ã«ã€ã‚ˆãã‚ã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚
                        </p>

                        <h2 id="headless-ui">Headless UI ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
                        
                        <div class="card">
                            <h3>ğŸ¨ UIã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã‚’è¿½åŠ ã—ãŸã„</h4>
                            <p>ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã—ã¦ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã¾ã™ï¼š</p>
                            <pre><code>const battleController = game.controllers.battle();

battleController.on('damageDealt', (event) => {
  // ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
  showDamageAnimation(event.target, event.damage);
});

battleController.on('skillUsed', (event) => {
  // ã‚¹ã‚­ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º
  showSkillEffect(event.skill, event.target);
});</code></pre>

                            <h4>ã‚«ã‚¹ã‚¿ãƒ UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨çµ±åˆã—ãŸã„</h4>
                            <p>çŠ¶æ…‹ã‚’è³¼èª­ã—ã¦ã€æ—¢å­˜ã®UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨é€£æºã—ã¾ã™ï¼š</p>
                            <pre><code>import { Modal, Button } from 'my-ui-library';

function CustomBattleUI() {
  const [state, setState] = useState(null);
  
  useEffect(() => {
    const controller = game.controllers.battle();
    return controller.subscribe(setState);
  }, []);

  return (
    <div>
      <Modal open={state?.showingResults}>
        <BattleResults results={state?.results} />
      </Modal>
      <Button onClick={() => controller.attack()}>
        æ”»æ’ƒ
      </Button>
    </div>
  );
}</code></pre>

                            <h4>è¤‡æ•°ã®çŠ¶æ…‹ã‚’åŒæ™‚ã«ç›£è¦–ã—ãŸã„</h4>
                            <p>è¤‡æ•°ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ã¾ã™ï¼š</p>
                            <pre><code>const battleController = game.controllers.battle();
const partyController = game.controllers.party();

useEffect(() => {
  const unsubBattle = battleController.subscribe((state) => {
    setBattleState(state);
  });
  
  const unsubParty = partyController.subscribe((state) => {
    setPartyState(state);
  });
  
  return () => {
    unsubBattle();
    unsubParty();
  };
}, []);</code></pre>
                        </div>

                        <div class="card">
                            <h3>ğŸ® æ“ä½œãƒ•ãƒ­ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>è‡ªå‹•æˆ¦é—˜ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã—ãŸã„</h4>
                            <p>BattleControllerã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’åˆ©ç”¨ã—ã¦è‡ªå‹•åŒ–ã—ã¾ã™ï¼š</p>
                            <pre><code>const battleController = game.controllers.battle();
let autoMode = false;

battleController.on('turnStart', async (event) => {
  if (autoMode && event.actor.isPlayer) {
    // è‡ªå‹•ã§ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠ
    const bestCommand = selectBestCommand(event.actor);
    await battleController.selectCommand(bestCommand);
  }
});

function enableAutoMode() {
  autoMode = true;
}

function disableAutoMode() {
  autoMode = false;
}</code></pre>

                            <h4>ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã—ãŸã„</h4>
                            <p>ã‚³ãƒãƒ³ãƒ‰ãƒªã‚¹ãƒˆã‚’æ‹¡å¼µã—ã¾ã™ï¼š</p>
                            <pre><code>const commandController = game.controllers.command();

// ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ã‚’ç™»éŒ²
commandController.registerCommand({
  id: 'combo-attack',
  name: 'ã‚³ãƒ³ãƒœæ”»æ’ƒ',
  execute: async (actor, targets) => {
    // ã‚«ã‚¹ã‚¿ãƒ ãƒ­ã‚¸ãƒƒã‚¯
    for (const target of targets) {
      await battleController.performAttack(actor, target);
    }
  }
});</code></pre>
                        </div>

                        <h2 id="services">Services ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
                        
                        <div class="card">
                            <h3>âš”ï¸ æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>ç‹¬è‡ªã®å‹åˆ©æ¡ä»¶ã‚’è¿½åŠ ã—ãŸã„</h4>
                            <p>BattleServiceã‚’æ‹¡å¼µã—ã¾ã™ï¼š</p>
                            <pre><code>import { BattleService } from 'GEasy Kit';

class CustomBattleService extends BattleService {
  checkBattleEnd() {
    const state = this.getState();
    
    // æ¨™æº–ã®å‹åˆ©æ¡ä»¶
    if (state.enemyGroup.every(e => e.hp <= 0)) {
      return { ended: true, result: 'victory' };
    }
    
    // ã‚«ã‚¹ã‚¿ãƒ å‹åˆ©æ¡ä»¶: 10ã‚¿ãƒ¼ãƒ³çµŒéã§å‹åˆ©
    if (state.turnNumber >= 10) {
      return { ended: true, result: 'victory' };
    }
    
    // ã‚«ã‚¹ã‚¿ãƒ æ•—åŒ—æ¡ä»¶: ãƒ‘ãƒ¼ãƒ†ã‚£ã®åŠæ•°ãŒå€’ã‚ŒãŸã‚‰æ•—åŒ—
    const aliveCount = state.playerParty.filter(c => c.hp > 0).length;
    if (aliveCount <= state.playerParty.length / 2) {
      return { ended: true, result: 'defeat' };
    }
    
    return { ended: false };
  }
}</code></pre>

                            <h4>é€£ç¶šæˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ãŸã„</h4>
                            <p>BattleServiceã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒã‚§ãƒ¼ãƒ³ã—ã¾ã™ï¼š</p>
                            <pre><code>const battleService = game.services.battle;
let battleQueue = [enemyGroup1, enemyGroup2, enemyGroup3];

battleService.on('battleEnd', async (event) => {
  if (event.result === 'victory' && battleQueue.length > 0) {
    // æ¬¡ã®æˆ¦é—˜ã‚’é–‹å§‹
    const nextEnemies = battleQueue.shift();
    await battleService.startBattle(party, nextEnemies);
  } else if (battleQueue.length === 0) {
    console.log('ã™ã¹ã¦ã®æˆ¦é—˜ã«å‹åˆ©ï¼');
  }
});</code></pre>

                            <h4>å‘³æ–¹ã«ã‚‚AIã‚’é©ç”¨ã—ãŸã„</h4>
                            <p>EnemyAIServiceã‚’æµç”¨ã—ã¾ã™ï¼š</p>
                            <pre><code>const aiService = game.services.enemyAI;

battleController.on('turnStart', async (event) => {
  if (event.actor.isPlayer && event.actor.aiControlled) {
    // AIã«è¡Œå‹•ã‚’æ±ºå®šã•ã›ã‚‹
    const action = await aiService.decideAction(
      event.actor,
      battleState
    );
    await battleController.executeAction(action);
  }
});</code></pre>
                        </div>

                        <div class="card">
                            <h3>ğŸ“ˆ æˆé•·ã‚·ã‚¹ãƒ†ãƒ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>è¤‡æ•°ã®ã‚¸ãƒ§ãƒ–ã‚’åŒæ™‚ã«ç¿’å¾—ã—ãŸã„</h4>
                            <p>JobChangeServiceã‚’æ‹¡å¼µã—ã¾ã™ï¼š</p>
                            <pre><code>import { JobChangeService } from 'GEasy Kit';

class MultiJobService extends JobChangeService {
  async addJob(characterId: string, jobId: string) {
    // æ—¢å­˜ã®ã‚¸ãƒ§ãƒ–ã‚’ä¿æŒã—ãªãŒã‚‰æ–°ã—ã„ã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ 
    const character = this.getCharacter(characterId);
    
    if (!character.jobs) {
      character.jobs = [];
    }
    
    character.jobs.push({
      id: jobId,
      level: 1,
      exp: 0
    });
    
    this.emit('jobAdded', { characterId, jobId });
  }
  
  // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¸ãƒ§ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
  async switchActiveJob(characterId: string, jobId: string) {
    const character = this.getCharacter(characterId);
    character.activeJobId = jobId;
    
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å†è¨ˆç®—
    this.recalculateStats(character);
  }
}</code></pre>

                            <h4>ã‚¹ã‚­ãƒ«ãƒã‚¤ãƒ³ãƒˆåˆ¶ã‚’å°å…¥ã—ãŸã„</h4>
                            <p>SkillLearnServiceã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ï¼š</p>
                            <pre><code>import { SkillLearnService } from 'GEasy Kit';

class SkillPointService extends SkillLearnService {
  async learnSkill(characterId: string, skillId: string) {
    const character = this.getCharacter(characterId);
    const skill = this.getSkill(skillId);
    
    // ã‚¹ã‚­ãƒ«ãƒã‚¤ãƒ³ãƒˆã‚’ãƒã‚§ãƒƒã‚¯
    if (character.skillPoints < skill.cost) {
      throw new Error('ã‚¹ã‚­ãƒ«ãƒã‚¤ãƒ³ãƒˆãŒä¸è¶³ã—ã¦ã„ã¾ã™');
    }
    
    // ã‚¹ã‚­ãƒ«ã‚’ç¿’å¾—
    character.skills.push(skillId);
    character.skillPoints -= skill.cost;
    
    this.emit('skillLearned', { characterId, skillId });
  }
  
  // ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—æ™‚ã«ã‚¹ã‚­ãƒ«ãƒã‚¤ãƒ³ãƒˆä»˜ä¸
  onLevelUp(character) {
    character.skillPoints = (character.skillPoints || 0) + 3;
  }
}</code></pre>
                        </div>

                        <div class="card">
                            <h3>ğŸ’ ã‚¢ã‚¤ãƒ†ãƒ ç®¡ç†ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ãƒƒã‚¯ä¸Šé™ã‚’å¤‰æ›´ã—ãŸã„</h4>
                            <p>InventoryServiceã®è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ï¼š</p>
                            <pre><code>const game = new GEasyKit({
  config: {
    inventory: {
      defaultStackLimit: 999,  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯99
      specialStackLimits: {
        'potion': 99,
        'elixir': 9,
        'key-item': 1  // é‡è¦ã‚¢ã‚¤ãƒ†ãƒ ã¯1ã¤ã¾ã§
      }
    }
  }
});</code></pre>

                            <h4>è£…å‚™ã«è€ä¹…åº¦ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ ã—ãŸã„</h4>
                            <p>EquipmentServiceã‚’æ‹¡å¼µã—ã¾ã™ï¼š</p>
                            <pre><code>import { EquipmentService } from 'GEasy Kit';

class DurabilityEquipmentService extends EquipmentService {
  async equipItem(characterId: string, itemId: string, slot: string) {
    await super.equipItem(characterId, itemId, slot);
    
    // è€ä¹…åº¦ã‚’åˆæœŸåŒ–
    const equipment = this.getEquipment(characterId, slot);
    if (!equipment.durability) {
      equipment.durability = equipment.maxDurability || 100;
    }
  }
  
  // æˆ¦é—˜å¾Œã«è€ä¹…åº¦ã‚’æ¸›ã‚‰ã™
  onBattleEnd() {
    const party = this.getParty();
    
    for (const character of party) {
      for (const equipment of character.equipment) {
        if (equipment.durability > 0) {
          equipment.durability -= 1;
          
          // è€ä¹…åº¦ãŒ0ã«ãªã£ãŸã‚‰è£…å‚™ã‚’å¤–ã™
          if (equipment.durability <= 0) {
            this.unequipItem(character.id, equipment.slot);
            this.emit('equipmentBroken', { 
              characterId: character.id, 
              itemId: equipment.id 
            });
          }
        }
      }
    }
  }
}</code></pre>
                        </div>

                        <h2 id="core-engine">Core Engine ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
                        
                        <div class="card">
                            <h3>ğŸ”¢ è¨ˆç®—å¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—å¼ã‚’å¤‰æ›´ã—ãŸã„</h4>
                            <p>DamageCalculatorã‚’å®Ÿè£…ã—ã¾ã™ï¼š</p>
                            <pre><code>import { DamageCalculator } from 'GEasy Kit';

class CustomDamageCalculator extends DamageCalculator {
  calculate(attacker, target, skill) {
    // ç‹¬è‡ªã®è¨ˆç®—å¼ï¼ˆä¾‹: FFé¢¨ï¼‰
    const attack = attacker.attack + (attacker.weapon?.attack || 0);
    const defense = target.defense + (target.armor?.defense || 0);
    
    const baseDamage = attack * skill.power / 100;
    const reducedDamage = baseDamage * (1 - defense / 1000);
    
    // ãƒ¬ãƒ™ãƒ«å·®ã«ã‚ˆã‚‹è£œæ­£
    const levelDiff = attacker.level - target.level;
    const levelBonus = 1 + (levelDiff * 0.05);
    
    const finalDamage = reducedDamage * levelBonus;
    
    // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«åˆ¤å®š
    const critRate = 0.05 + (attacker.luck / 1000);
    const isCritical = Math.random() < critRate;
    
    return {
      damage: Math.floor(isCritical ? finalDamage * 1.5 : finalDamage),
      isCritical,
      formula: 'custom-ff-style'
    };
  }
}

const game = new GEasyKit({
  config: {
    damageCalculator: new CustomDamageCalculator()
  }
});</code></pre>

                            <h4>å±æ€§ç›¸æ€§ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ ã—ãŸã„</h4>
                            <p>å…ƒç´ ç›¸æ€§ã‚’è€ƒæ…®ã—ãŸãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ã‚’å®Ÿè£…ã—ã¾ã™ï¼š</p>
                            <pre><code>class ElementalDamageCalculator extends DamageCalculator {
  // ç›¸æ€§ãƒ†ãƒ¼ãƒ–ãƒ«
  private chart = {
    fire: { water: 0.5, ice: 0.5, grass: 2.0, fire: 0.5 },
    water: { fire: 2.0, electric: 0.5, grass: 0.5, water: 0.5 },
    electric: { water: 2.0, ground: 0.0, electric: 0.5 },
    grass: { water: 2.0, fire: 0.5, grass: 0.5 },
    ice: { fire: 0.5, water: 0.5, grass: 2.0, ice: 0.5 },
    ground: { electric: 2.0, water: 2.0, grass: 0.5 }
  };
  
  calculate(attacker, target, skill) {
    const baseDamage = super.calculate(attacker, target, skill);
    
    // å±æ€§å€ç‡ã‚’è¨ˆç®—
    const attackElement = skill.element || 'none';
    const targetElement = target.element || 'none';
    
    const multiplier = this.chart[attackElement]?.[targetElement] ?? 1.0;
    
    return {
      ...baseDamage,
      damage: Math.floor(baseDamage.damage * multiplier),
      elementMultiplier: multiplier,
      isWeakness: multiplier > 1.0,
      isResistance: multiplier < 1.0,
      isImmune: multiplier === 0
    };
  }
}</code></pre>

                            <h4>ç‹¬è‡ªã®çµŒé¨“å€¤ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ã„ãŸã„</h4>
                            <p>æˆé•·æ›²ç·šã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ï¼š</p>
                            <pre><code>const game = new GEasyKit({
  config: {
    growth: {
      // ã‚«ã‚¹ã‚¿ãƒ çµŒé¨“å€¤ãƒ†ãƒ¼ãƒ–ãƒ«
      getExpForLevel: (level) => {
        if (level <= 10) {
          return level * 100;  // åºç›¤ã¯ç·©ã‚„ã‹
        } else if (level <= 50) {
          return 1000 + (level - 10) * 200;  // ä¸­ç›¤
        } else {
          return 9000 + (level - 50) * 500;  // çµ‚ç›¤ã¯æ€¥æ¿€
        }
      },
      
      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æˆé•·ç‡
      statGrowth: {
        hp: (level) => Math.floor(50 + level * 12.5),
        mp: (level) => Math.floor(20 + level * 5),
        attack: (level) => Math.floor(10 + level * 2.5),
        defense: (level) => Math.floor(8 + level * 2),
        speed: (level) => Math.floor(5 + level * 1.5),
        magic: (level) => Math.floor(10 + level * 3)
      }
    }
  }
});</code></pre>
                        </div>

                        <div class="card">
                            <h3>ğŸ² ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
                            
                            <h4>é‹ã®è¦ç´ ã‚’å¼·åŒ–ã—ãŸã„</h4>
                            <p>é‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å½±éŸ¿ã‚’å¤§ããã—ã¾ã™ï¼š</p>
                            <pre><code>class LuckBasedCalculator extends DamageCalculator {
  calculate(attacker, target, skill) {
    const baseDamage = super.calculate(attacker, target, skill);
    
    // é‹ã«ã‚ˆã‚‹è£œæ­£ï¼ˆ-10% ~ +10%ï¼‰
    const luckModifier = 0.9 + (attacker.luck / 500);
    const finalDamage = baseDamage.damage * luckModifier;
    
    // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç‡ã‚‚é‹ã«ä¾å­˜
    const critRate = 0.05 + (attacker.luck / 200);
    const isCritical = Math.random() < critRate;
    
    return {
      ...baseDamage,
      damage: Math.floor(isCritical ? finalDamage * 2 : finalDamage),
      isCritical,
      luckModifier
    };
  }
}</code></pre>

                            <h4>ãƒ‰ãƒ­ãƒƒãƒ—ç‡ã‚’èª¿æ•´ã—ãŸã„</h4>
                            <p>DropCalculatorã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ï¼š</p>
                            <pre><code>import { DropCalculator } from 'GEasy Kit';

class CustomDropCalculator extends DropCalculator {
  calculate(enemy, dropTable, partyLuck) {
    const drops = [];
    
    for (const entry of dropTable) {
      // é‹ã«ã‚ˆã‚‹è£œæ­£ã‚’å¤§ããã™ã‚‹
      const luckBonus = partyLuck / 100;  // é‹100ã§2å€
      const finalRate = entry.rate * (1 + luckBonus);
      
      // ãƒ¬ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ç¢ºç‡ã®ä¿è¨¼ï¼ˆ10å›ç›®ã§å¿…ãšå‡ºã‚‹ï¼‰
      const attempts = this.getAttempts(entry.itemId);
      const guaranteedRate = Math.min(1, finalRate * (1 + attempts * 0.1));
      
      if (Math.random() < guaranteedRate) {
        drops.push({
          itemId: entry.itemId,
          quantity: this.rollQuantity(entry)
        });
        this.resetAttempts(entry.itemId);
      } else {
        this.incrementAttempts(entry.itemId);
      }
    }
    
    return drops;
  }
}</code></pre>
                        </div>

                        <h2>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
                        <div class="card">
                            <ul>
                                <li><a href="../docs/headless-ui.html">Headless UI</a> - è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</li>
                                <li><a href="../docs/services.html">Services</a> - è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</li>
                                <li><a href="../docs/core-engine.html">Core Engine</a> - è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</li>
                                <li><a href="../examples/index.html">ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰</a> - å®Ÿéš›ã®å®Ÿè£…ä¾‹</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 GEasy Kit. Licensed under ISC.</p>
            <p>
                <a href="https://github.com/yonyon-web/GEasy Kit" target="_blank" rel="noopener">GitHub</a> |
                <a href="https://github.com/yonyon-web/GEasy Kit/issues" target="_blank" rel="noopener">Issues</a> |
                <a href="../docs/index.html">Docs</a>
            </p>
        </div>
    </footer>

    <script>
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                    // Update active state
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // Update active link on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.docs-content h1, .docs-content h2');
            const scrollPosition = window.scrollY + 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionId = section.id;
                
                if (scrollPosition >= sectionTop) {
                    document.querySelectorAll('.docs-sidebar a').forEach(a => a.classList.remove('active'));
                    const activeLink = document.querySelector(`.docs-sidebar a[href="#${sectionId}"]`);
                    if (activeLink) activeLink.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
