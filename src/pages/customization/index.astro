---
import DocsLayout from '../../layouts/DocsLayout.astro';

const sidebarLinks = [
  { href: '#overview', text: 'ã¯ã˜ã‚ã«', active: true },
  { href: '#headless-ui', text: 'Headless UI' },
  { href: '#services', text: 'Services' },
  { href: '#core-engine', text: 'Core Engine' }
];
---

<DocsLayout 
  title="ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé€†å¼•ã" 
  sidebarTitle="ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º"
  sidebarLinks={sidebarLinks}
>
    <h1 id="overview">ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé€†å¼•ãã‚¬ã‚¤ãƒ‰</h1>
    <p>
        ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€GEasy Kitã‚’ä½¿ã£ã¦ã€Œã€‡ã€‡ã—ãŸã„ã€ã¨ã„ã†è¦æœ›ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•ã‚’ã€
        é€†å¼•ãå½¢å¼ã§èª¬æ˜ã—ã¾ã™ã€‚å„æ©Ÿèƒ½ã”ã¨ã«ã€ã‚ˆãã‚ã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚
    </p>

    <h2 id="headless-ui">Headless UI ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
    
    <div class="card">
        <h3>ğŸ¨ UIã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
        
        <h4>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã‚’è¿½åŠ ã—ãŸã„</h4>
        <p>ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­ã—ã¦ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã¾ã™ï¼š</p>
        <pre><code>{`const battleController = game.controllers.battle();

battleController.on('damageDealt', (event) => {
  // ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
  showDamageAnimation(event.target, event.damage);
});

battleController.on('skillUsed', (event) => {
  // ã‚¹ã‚­ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º
  showSkillEffect(event.skill, event.target);
});`}</code></pre>

        <h4>ã‚«ã‚¹ã‚¿ãƒ UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨çµ±åˆã—ãŸã„</h4>
        <p>çŠ¶æ…‹ã‚’è³¼èª­ã—ã¦ã€æ—¢å­˜ã®UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨é€£æºã—ã¾ã™ï¼š</p>
        <pre><code>{`import { Modal, Button } from 'my-ui-library';

function CustomBattleUI() {
  const [state, setState] = useState(null);
  
  useEffect(() => {
    const controller = game.controllers.battle();
    return controller.subscribe(setState);
  }, []);

  return (
    <Modal open={state?.phase === 'command-selection'}>
      <Button onClick={() => controller.selectCommand(...)}>
        æ”»æ’ƒ
      </Button>
    </Modal>
  );
}`}</code></pre>
    </div>

    <h2 id="services">Services ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
    
    <div class="card">
        <h3>âš™ï¸ ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
        
        <h4>ç‹¬è‡ªã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—å¼ã‚’ä½¿ã„ãŸã„</h4>
        <p>ã‚«ã‚¹ã‚¿ãƒ Configã‚’æ¸¡ã™ã“ã¨ã§ã€è¨ˆç®—å¼ã‚’å¤‰æ›´ã§ãã¾ã™ï¼š</p>
        <pre><code>{`const customConfig = {
  battle: {
    damageFormula: (attacker, target, skill) => {
      // ç‹¬è‡ªã®è¨ˆç®—å¼
      const baseDamage = attacker.attack * 2;
      const defense = target.defense / 2;
      return Math.max(1, baseDamage - defense);
    }
  }
};

const game = new GEasyKit({ config: customConfig });`}</code></pre>

        <h4>ç‰¹æ®ŠãªçŠ¶æ…‹ç•°å¸¸ã‚’è¿½åŠ ã—ãŸã„</h4>
        <p>ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’å®šç¾©ã§ãã¾ã™ï¼š</p>
        <pre><code>{`const customEffects = {
  'frozen': {
    onTurnStart: (target) => {
      // è¡Œå‹•ä¸èƒ½ã«ã™ã‚‹
      target.canAct = false;
    },
    onTurnEnd: (target) => {
      // 50%ã®ç¢ºç‡ã§è§£é™¤
      if (Math.random() < 0.5) {
        target.removeEffect('frozen');
      }
    }
  }
};`}</code></pre>
    </div>

    <h2 id="core-engine">Core Engine ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h2>
    
    <div class="card">
        <h3>ğŸ”§ ä½ãƒ¬ãƒ™ãƒ«ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
        
        <h4>ç‹¬è‡ªã®è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ã‚’å®Ÿè£…ã—ãŸã„</h4>
        <p>ã‚¨ãƒ³ã‚¸ãƒ³ã‚¯ãƒ©ã‚¹ã‚’ç¶™æ‰¿ã—ã¦ç‹¬è‡ªå®Ÿè£…ãŒå¯èƒ½ã§ã™ï¼š</p>
        <pre><code>{`import { BattleEngine } from 'geasy-kit';

class MyCustomBattleEngine extends BattleEngine {
  calculatePhysicalDamage(attacker, target) {
    // å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒ ãªè¨ˆç®—
    const levelBonus = attacker.level * 3;
    const weaponPower = attacker.weapon.power;
    return levelBonus + weaponPower - target.defense;
  }
}

const game = new GEasyKit({
  engines: {
    battle: new MyCustomBattleEngine()
  }
});`}</code></pre>
    </div>

    <h2 style="margin-top: 2rem;">ã‚ˆãã‚ã‚‹è³ªå•</h2>
    
    <div class="card">
        <h4>Q: UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã©ã‚Œã‚’ä½¿ãˆã°ã„ã„ã§ã™ã‹ï¼Ÿ</h4>
        <p>A: GEasy Kitã¯Headlessè¨­è¨ˆãªã®ã§ã€Reactã€Vueã€Angularã€Svelteã€Pixiãªã©ã€
        ã©ã®ã‚ˆã†ãªUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã‚‚çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
    </div>

    <div class="card">
        <h4>Q: ã‚²ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã§ãã¾ã™ã‹ï¼Ÿ</h4>
        <p>A: ã¯ã„ã€Configã‚„ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã«ã‚ˆã‚Šã€ã»ã¨ã‚“ã©ã®ã‚²ãƒ¼ãƒ å›ºæœ‰ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</p>
    </div>
</DocsLayout>
